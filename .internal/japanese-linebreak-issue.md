# 日本語改行問題 - 解決済み

## 問題

タイポグラフィ改善実装後、日本語ページで説明文が不自然な位置で改行されるようになった。

**症状**: 「アクセシブルな UI コンポーネント」が「アクセ / シブルな UI」のように不自然な位置で改行される。

## 根本原因

**`.text-center` に適用された `text-wrap: balance`** が原因。

`text-wrap: balance` は行の長さを均等にバランスさせる CSS プロパティだが、日本語テキストでは文字単位で改行位置が調整されるため、意味の区切りと関係ない位置で改行が発生する。

## テスト結果

| 設定 | 結果 |
|------|------|
| 全て無効 | ✅ 自然 |
| 日本語のみ | ✅ 自然 |
| グローバルのみ | ✅ 自然 |
| 英語のみ | ✅ 自然 |
| 日本語 + グローバル | ✅ 自然 |
| 全て有効（text-center除く） | ✅ 自然 |
| 全て有効（text-center含む） | ❌ 不自然 |

## 解決策

`text-wrap: balance` を英語のみに適用するよう変更:

```css
/* 変更前 */
:where(.text-center) {
  text-wrap: balance;
}

/* 変更後 */
:where(.text-center):lang(en) {
  text-wrap: balance;
}
```

## 修正ファイル

- `src/styles/global.css`

## 学んだこと

1. `text-wrap: balance` は短いテキスト（見出し等）には効果的だが、長い段落テキストには適さない
2. 日本語では文字単位で改行が調整されるため、`text-wrap: balance` が意味の区切りを無視した改行を引き起こす
3. CSS の改行関連プロパティは言語によって挙動が異なるため、`:lang()` で切り分けることが重要
4. バイナリサーチ手法はCSS問題のデバッグに効果的
