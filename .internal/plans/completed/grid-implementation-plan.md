# APG Grid ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…è¨ˆç”»æ›¸ï¼ˆAPG ä»•æ§˜æ•´åˆæ€§ç¢ºèªæ¸ˆã¿ï¼‰

## æ¦‚è¦

Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŠã‚ˆã³ APG ä»•æ§˜ã¨ã®æ•´åˆæ€§ç¢ºèªã‚’çµŒã¦ã€è¨ˆç”»æ›¸ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚

### Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼æŒ‡æ‘˜äº‹é …ï¼ˆå¯¾å¿œçŠ¶æ³ï¼‰

| é‡è¦åº¦ | æŒ‡æ‘˜ | å¯¾å¿œ |
|--------|------|------|
| é‡å¤§ | `aria-readonly` ã®æ‰±ã„ãŒæœªæ•´ç† | âœ… **APG ç¢ºèª**: ç·¨é›†æ©Ÿèƒ½ãªã—ãªã‚‰ä¸è¦ã€‚ä»˜ä¸ã—ãªã„ |
| é‡å¤§ | é¸æŠæ‹¡å¼µï¼ˆShift+Arrow ç¯„å›²é¸æŠï¼‰ãŒæœªæ¤œè¨ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.5 ã§ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æ˜ç¢ºåŒ– |
| é«˜ | `aria-rowindex/colindex` ã®ä»˜ä¸å¯¾è±¡ãŒä¸ååˆ† | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.2 ã§ row/header ã‚‚å«ã‚ã‚‹ã‚ˆã†ä¿®æ­£ |
| é«˜ | Props è¨­è¨ˆãŒ React å›ºæœ‰ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 5.1 ã§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã«å†è¨­è¨ˆ |
| é«˜ | aria-label/labelledby ã®ç›¸äº’æ’ä»–ãƒ†ã‚¹ãƒˆãŒãªã„ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4 ã«ãƒ†ã‚¹ãƒˆè¿½åŠ  |
| ä¸­ | é¸æŠãƒ¢ãƒ‡ãƒ«ï¼ˆcell/rowï¼‰ãŒæœªç¢ºå®š | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.5 ã§ cell é¸æŠã«ç¢ºå®š |
| ä¸­ | Shift+Tab ã®é›¢è„±ãƒ†ã‚¹ãƒˆãŒãªã„ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4 ã«ãƒ†ã‚¹ãƒˆè¿½åŠ  |
| ä¸­ | ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡åŒ–ãŒæœªæ˜è¨˜ | âœ… **APG ç¢ºèª**: ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ãªã—ãªã‚‰ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸è¦ |
| ä½ | header ã‚»ãƒ«ã®ã‚¹ãƒ‘ãƒ³ãƒ†ã‚¹ãƒˆãŒãªã„ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 4 ã«ãƒ†ã‚¹ãƒˆè¿½åŠ  |
| ä½ | CSS Grid ã®è¦–è¦šé †åºå•é¡Œ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 8 ã«ãƒªã‚¹ã‚¯ã¨ã—ã¦è¿½è¨˜ |

### APG ä»•æ§˜ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ

| ç¢ºèªé …ç›® | APG ä»•æ§˜ | è¨ˆç”»æ›¸ã®å¯¾å¿œ |
|----------|----------|--------------|
| `aria-readonly` | ç·¨é›†æ©Ÿèƒ½ãŒãªã„ã‚°ãƒªãƒƒãƒ‰ã§ã¯ä¸è¦ | âœ… ä»˜ä¸ã—ãªã„ |
| ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ | ã‚½ãƒ¼ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ãŒãªã„å ´åˆã¯ä¸è¦ | âœ… ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯¾è±¡å¤– |
| Data Grid vs Layout Grid | è¡Œæœ«ãƒ©ãƒƒãƒ—ã®æœ‰ç„¡ã§åŒºåˆ¥ | âœ… ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.6 ã§æ˜è¨˜ |
| é¸æŠæ“ä½œ | APG Data Grid ä¾‹ã§ã¯ç¯„å›²é¸æŠæ“ä½œãŒæ˜è¨˜ã•ã‚Œã¦ã„ãªã„ | âœ… åŸºæœ¬çš„ãªã‚»ãƒ«é¸æŠï¼ˆSpaceï¼‰ã®ã¿å®Ÿè£… |
| `rowgroup` ãƒ­ãƒ¼ãƒ« | APG ä¾‹ã§ã¯æ˜ç¤ºçš„ã«ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ | âœ… ä»»æ„ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ã¨æ˜è¨˜ |

---

## 1. æ¦‚è¦

**Grid** ã¯ã€çŸ¢å°ã‚­ãƒ¼ã€Homeã€End ãªã©ã®æ–¹å‘ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦2æ¬¡å…ƒçš„ã«ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã§ãã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ³ãƒ†ãƒŠã§ã™ã€‚

**APG å…¬å¼ URL**: https://www.w3.org/WAI/ARIA/apg/patterns/grid/

**ä¸»è¦æ©Ÿèƒ½**:
- 2æ¬¡å…ƒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆArrow keysï¼‰
- Roving tabindex ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†
- ã‚»ãƒ«é¸æŠæ©Ÿèƒ½ï¼ˆå˜ä¸€/è¤‡æ•°ï¼‰
- CSS Grid ã«ã‚ˆã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

**é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³**: Menubarï¼ˆ2æ¬¡å…ƒãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã€Tableï¼ˆã‚»ãƒ«æ§‹é€ ï¼‰ã€Listboxï¼ˆé¸æŠæ©Ÿèƒ½ï¼‰

**ãƒã‚¤ãƒ†ã‚£ãƒ– HTML ä»£æ›¿**: ãªã—ï¼ˆ`<table>` ã¯é™çš„ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºç”¨ã€Grid ã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ“ä½œç”¨ï¼‰

---

## 2. APG ä»•æ§˜ã‚µãƒãƒªãƒ¼

### 2.1 Roles

| Role | å¯¾è±¡è¦ç´  | å¿…é ˆ | èª¬æ˜ |
|------|----------|------|------|
| `grid` | Container | Yes | ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ã®è¦ªè¦ç´  |
| `rowgroup` | Header/Body | **No** | è¡Œã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆthead, tbody ç›¸å½“ï¼‰â€»APGä¾‹ã§ã¯ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ |
| `row` | Row container | Yes | ã‚°ãƒªãƒƒãƒ‰å†…ã®å„è¡Œ |
| `gridcell` | Data cell | Yes | é€šå¸¸ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ« |
| `columnheader` | Header cell | No | åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãŒã‚ã‚‹å ´åˆï¼‰ |
| `rowheader` | Row header | No | è¡Œãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ï¼ˆæœ€åˆã®åˆ—ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |

> **APG ä¾‹ã«åŸºã¥ãæ³¨è¨˜**: APG ã® Data Grid / Layout Grid ä¾‹ã§ã¯ `rowgroup` ãƒ­ãƒ¼ãƒ«ã¯æ˜ç¤ºçš„ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
> HTML `<table>` æ§‹é€ ã§ã¯ `<thead>`/`<tbody>` ãŒè‡ªå‹•çš„ã« rowgroup ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’æŒã¡ã¾ã™ãŒã€
> div ãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…ã§ã¯ rowgroup ã¯ä»»æ„ã§ã™ã€‚æœ¬å®Ÿè£…ã§ã¯**ç°¡æ½”ã•ã®ãŸã‚ rowgroup ã‚’çœç•¥**ã—ã¾ã™ã€‚

### 2.2 Propertiesï¼ˆé™çš„å±æ€§ï¼‰

| å±æ€§ | å¯¾è±¡è¦ç´  | å€¤ | å¿…é ˆ | å‚™è€ƒ |
|------|----------|-----|------|------|
| `aria-label` | grid | æ–‡å­—åˆ— | Yes* | ã‚°ãƒªãƒƒãƒ‰ã®åå‰ |
| `aria-labelledby` | grid | IDå‚ç…§ | Yes* | å¤–éƒ¨è¦ç´ ã«ã‚ˆã‚‹åå‰ä»˜ã‘ |
| `aria-rowcount` | grid | æ•´æ•°ï¼ˆ1-basedï¼‰ | No | ä»®æƒ³åŒ–æ™‚ã®ç·è¡Œæ•° |
| `aria-colcount` | grid | æ•´æ•°ï¼ˆ1-basedï¼‰ | No | ä»®æƒ³åŒ–æ™‚ã®ç·åˆ—æ•° |
| `aria-rowindex` | **row**, gridcell, rowheader, columnheader | æ•´æ•°ï¼ˆ1-basedï¼‰ | No | ä»®æƒ³åŒ–æ™‚ã®è¡Œä½ç½® |
| `aria-colindex` | gridcell, rowheader, columnheader | æ•´æ•°ï¼ˆ1-basedï¼‰ | No | ä»®æƒ³åŒ–æ™‚ã®åˆ—ä½ç½® |
| `aria-colspan` | gridcell, **columnheader**, **rowheader** | æ•´æ•° | No | è¤‡æ•°åˆ—ã«ã¾ãŸãŒã‚‹ã‚»ãƒ« |
| `aria-rowspan` | gridcell, **columnheader**, **rowheader** | æ•´æ•° | No | è¤‡æ•°è¡Œã«ã¾ãŸãŒã‚‹ã‚»ãƒ« |

*ã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿å¿…é ˆï¼ˆåŒæ™‚æŒ‡å®šä¸å¯ï¼‰

> **Codex æŒ‡æ‘˜åæ˜ **: `aria-rowindex` ã¯ `row` è¦ç´ ã«ã‚‚ä»˜ä¸å¯èƒ½ã€‚`aria-colspan/rowspan` ã¯ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã«ã‚‚é©ç”¨å¯èƒ½ã€‚

### 2.3 Statesï¼ˆå‹•çš„å±æ€§ï¼‰

| å±æ€§ | å¯¾è±¡è¦ç´  | å€¤ | å¿…é ˆ | å¤‰æ›´ãƒˆãƒªã‚¬ãƒ¼ |
|------|----------|-----|------|--------------|
| `aria-multiselectable` | grid | `true`/`false` | No* | multiselectable prop |
| `aria-selected` | gridcell | `true`/`false` | No | Space ã‚­ãƒ¼ã€ã‚¯ãƒªãƒƒã‚¯ |
| `aria-disabled` | gridcell | `true`/`false` | No | disabled prop |

*multiselectable æ™‚ã¯å¿…é ˆ

> **APG ä»•æ§˜ã«åŸºã¥ãä¿®æ­£: `aria-readonly` ã«ã¤ã„ã¦**
>
> APG ä»•æ§˜ã«ã‚ˆã‚‹ã¨ï¼š
> > ç·¨é›†æ©Ÿèƒ½ãŒãªã„ã‚°ãƒªãƒƒãƒ‰ã§ã¯ã“ã®å±æ€§ã¯ä¸è¦
>
> æœ¬å®Ÿè£…ã§ã¯**ç·¨é›†æ©Ÿèƒ½ã‚’æä¾›ã—ãªã„**ãŸã‚ã€`aria-readonly` ã¯**ä»˜ä¸ã—ãªã„**ã€‚
> å°†æ¥ã€ç·¨é›†æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆã«ã®ã¿ `aria-readonly` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

### 2.4 ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯¾è±¡

> **APG ä»•æ§˜ã«åŸºã¥ãä¿®æ­£: ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹**
>
> APG ä»•æ§˜ã«ã‚ˆã‚‹ã¨ï¼š
> > "if column or row header cells do not provide functions, such as sort or filter, they do not need to be focusable."

**æœ¬å®Ÿè£…ã®æ–¹é‡**: ã‚½ãƒ¼ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãªã„ãŸã‚ã€**ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã¯ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯¾è±¡å¤–**ã¨ã™ã‚‹ã€‚

**ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½ãªè¦ç´ **:
- `gridcell`ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒ«ï¼‰: **Yes**

**ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸å¯ã®è¦ç´ **:
- `columnheader`ï¼ˆåˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰: **No**ï¼ˆã‚½ãƒ¼ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ãªã—ï¼‰
- `rowheader`ï¼ˆè¡Œãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰: **No**ï¼ˆã‚½ãƒ¼ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ãªã—ï¼‰
- `grid` ã‚³ãƒ³ãƒ†ãƒŠè‡ªä½“
- `row`

> **Note**: æœ¬å®Ÿè£…ã§ã¯ `rowgroup` ã‚’ä½¿ç”¨ã—ãªã„ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.1 å‚ç…§ï¼‰

**å°†æ¥ã®æ‹¡å¼µ**: ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆã€`columnheader` ã‚’ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½ã«ã—ã€`aria-sort` ã‚’è¨­å®šã™ã‚‹ã€‚

### 2.5 é¸æŠãƒ¢ãƒ‡ãƒ«

> **Codex æŒ‡æ‘˜åæ˜ : é¸æŠãƒ¢ãƒ‡ãƒ«ã‚’æ˜ç¢ºåŒ–**

**æ¡ç”¨ã™ã‚‹é¸æŠãƒ¢ãƒ‡ãƒ«**: **ã‚»ãƒ«é¸æŠï¼ˆCell Selectionï¼‰**

| ãƒ¢ãƒ‡ãƒ« | å¯¾è±¡ | æœ¬å®Ÿè£… |
|--------|------|--------|
| Cell Selection | å€‹ã€…ã®ã‚»ãƒ« | âœ… æ¡ç”¨ |
| Row Selection | è¡Œå…¨ä½“ | âŒ æœªå¯¾å¿œï¼ˆå°†æ¥æ‹¡å¼µï¼‰ |

**é¸æŠæ“ä½œ**:
| ã‚­ãƒ¼ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | å‚™è€ƒ |
|------|------------|------|
| `Space` | ã‚»ãƒ«é¸æŠã‚’ãƒˆã‚°ãƒ« | selectable æ™‚ã®ã¿ |
| `Ctrl+A` | å…¨ã‚»ãƒ«é¸æŠ | multiselectable æ™‚ã®ã¿ |

> **ã‚¹ã‚³ãƒ¼ãƒ—å¤–ï¼ˆAPG ä»•æ§˜ã«åŸºã¥ãåˆ¤æ–­ï¼‰**:
>
> ä»¥ä¸‹ã®é¸æŠæ“ä½œã¯ APG ã§æ¨™æº–çš„ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãŒã€**æœ¬å®Ÿè£…ã§ã¯ã‚¹ã‚³ãƒ¼ãƒ—å¤–**ã¨ã™ã‚‹ï¼š
> - `Shift+Arrow`: ç¯„å›²é¸æŠ
> - `Shift+Space`: è¡Œé¸æŠ
> - `Ctrl+Space`: åˆ—é¸æŠ
> - `Ctrl+Shift+End`: ç¾åœ¨ä½ç½®ã‹ã‚‰æœ€å¾Œã¾ã§é¸æŠ
>
> **ç†ç”±**: å®Ÿè£…ã®è¤‡é›‘åº¦ã‚’è€ƒæ…®ã—ã€åŸºæœ¬çš„ãªã‚»ãƒ«é¸æŠæ©Ÿèƒ½ã«çµã‚‹ã€‚å°†æ¥ã®æ‹¡å¼µã¨ã—ã¦æ¤œè¨å¯èƒ½ã€‚

### 2.6 Grid ã‚¿ã‚¤ãƒ—ï¼ˆData Grid vs Layout Gridï¼‰

> **APG ä»•æ§˜ã«åŸºã¥ãæ˜è¨˜**

| ç‰¹æ€§ | Data Grid | Layout Grid |
|------|-----------|-------------|
| ç”¨é€” | è¡¨å½¢å¼ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºãƒ»æ“ä½œ | ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ– |
| è¡Œæœ«ã§ã®ãƒ©ãƒƒãƒ— | **ãªã—** | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆã‚ã‚Šï¼‰ |
| ãƒ˜ãƒƒãƒ€ãƒ¼ | é€šå¸¸ã‚ã‚Š | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ |

**æœ¬å®Ÿè£…ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**: **Data Grid**ï¼ˆ`wrapNavigation=false`ï¼‰

`wrapNavigation=true` ã‚’æŒ‡å®šã™ã‚‹ã¨ Layout Grid ã¨ã—ã¦å‹•ä½œï¼ˆè¡Œæœ«ã§æ¬¡è¡Œã¸ãƒ©ãƒƒãƒ—ï¼‰ã€‚

### 2.7 Keyboard Support

| ã‚­ãƒ¼ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | å‚™è€ƒ |
|------|------------|------|
| `ArrowRight` | å³ã®ã‚»ãƒ«ã¸ç§»å‹• | åŒã˜è¡Œå†…ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒ«ã®ã¿ï¼‰ |
| `ArrowLeft` | å·¦ã®ã‚»ãƒ«ã¸ç§»å‹• | åŒã˜è¡Œå†…ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒ«ã®ã¿ï¼‰ |
| `ArrowDown` | ä¸‹ã®ã‚»ãƒ«ã¸ç§»å‹• | åŒã˜åˆ—å†… |
| `ArrowUp` | ä¸Šã®ã‚»ãƒ«ã¸ç§»å‹• | åŒã˜åˆ—å†… |
| `Home` | è¡Œã®æœ€åˆã®ã‚»ãƒ«ã¸ | ç¾åœ¨ã®è¡Œå†… |
| `End` | è¡Œã®æœ€å¾Œã®ã‚»ãƒ«ã¸ | ç¾åœ¨ã®è¡Œå†… |
| `Ctrl+Home` | ã‚°ãƒªãƒƒãƒ‰æœ€åˆã®ã‚»ãƒ«ã¸ | æœ€åˆã®ãƒ‡ãƒ¼ã‚¿è¡Œãƒ»æœ€åˆã®åˆ— |
| `Ctrl+End` | ã‚°ãƒªãƒƒãƒ‰æœ€å¾Œã®ã‚»ãƒ«ã¸ | æœ€å¾Œã®è¡Œãƒ»æœ€å¾Œã®åˆ— |
| `PageDown` | è¤‡æ•°è¡Œä¸‹ã¸ç§»å‹• | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€pageSize åˆ† |
| `PageUp` | è¤‡æ•°è¡Œä¸Šã¸ç§»å‹• | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€pageSize åˆ† |
| `Tab` | ã‚°ãƒªãƒƒãƒ‰ã‹ã‚‰é›¢è„± | æ¬¡ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½è¦ç´ ã¸ |
| `Shift+Tab` | ã‚°ãƒªãƒƒãƒ‰ã‹ã‚‰é›¢è„± | å‰ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½è¦ç´ ã¸ |
| `Space` | ã‚»ãƒ«é¸æŠã‚’ãƒˆã‚°ãƒ« | selectable æ™‚ |
| `Enter` | ã‚»ãƒ«ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ | onCellActivate ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ |

> **Note**: ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã¯ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯¾è±¡å¤–ã®ãŸã‚ã€çŸ¢å°ã‚­ãƒ¼ã§ãƒ˜ãƒƒãƒ€ãƒ¼ã«ç§»å‹•ã—ãªã„ã€‚

### 2.8 Focus Management

**æ¡ç”¨æ–¹å¼**: Roving tabindex

**ãƒ«ãƒ¼ãƒ«**:
- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸­ã®ã‚»ãƒ«ã®ã¿ `tabIndex="0"`ã€ä»–ã¯ `tabIndex="-1"`
- 2æ¬¡å…ƒè¿½è·¡: `[rowIndex, colIndex]` ã§ä½ç½®ã‚’ç®¡ç†
- disabled ã‚»ãƒ«: ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½ã ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆä¸å¯
- ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ãŒ Tab Sequence ã®1ã‚¨ãƒ³ãƒˆãƒª
- **ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã¯ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯¾è±¡å¤–**ï¼ˆã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ãªã—ã®ãŸã‚ï¼‰

---

## 3. é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®å·®åˆ†

### 3.1 Grid vs Table

| æ©Ÿèƒ½ | Table | Grid | é•ã„ã®ç†ç”± |
|------|-------|------|------------|
| ä¸»è¦ãƒ­ãƒ¼ãƒ« | `table`, `cell` | `grid`, `gridcell` | Grid ã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ– |
| ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ | ãªã— | Arrow keys å¿…é ˆ | 2æ¬¡å…ƒãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ |
| ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç† | ãªã— | Roving tabindex å¿…é ˆ | ã‚»ãƒ«å˜ä½ã®æ“ä½œ |
| ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ | ãªã— | **ã‚ªãƒ—ã‚·ãƒ§ãƒ³** | ã‚½ãƒ¼ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ãŒã‚ã‚‹å ´åˆã®ã¿ |
| `aria-readonly` | ãªã— | **ã‚ªãƒ—ã‚·ãƒ§ãƒ³** | ç·¨é›†æ©Ÿèƒ½ãŒã‚ã‚‹å ´åˆã®ã¿ |

### 3.2 Grid vs Menubar

| æ©Ÿèƒ½ | Menubar | Grid | é•ã„ã®ç†ç”± |
|------|---------|------|------------|
| æ§‹é€  | éšå±¤çš„ | ãƒ•ãƒ©ãƒƒãƒˆï¼ˆrowÃ—colï¼‰ | Grid ã¯å‡ä¸€æ§‹é€  |
| `Escape` | submenu ã‚’é–‰ã˜ã‚‹ | **æœªå®šç¾©** | Grid ã«ã¯éšå±¤ãŒãªã„ |
| TypeAhead | ã‚ã‚Š | ãªã— | Grid ã¯æ¤œç´¢ä¸è¦ |

> **Codex æŒ‡æ‘˜åæ˜ **: Escape ã®æŒ™å‹•ã¯ Grid ã§ã¯æœªå®šç¾©/æœªå¯¾å¿œã¨æ˜è¨˜

### 3.3 Grid vs Listbox

| æ©Ÿèƒ½ | Listbox | Grid |
|------|---------|------|
| æ¬¡å…ƒ | 1æ¬¡å…ƒ | 2æ¬¡å…ƒ |
| é¸æŠãƒ¢ãƒ¼ãƒ‰ | å˜ä¸€/è¤‡æ•° | **åŒæ§˜**ï¼ˆã‚»ãƒ«é¸æŠï¼‰ |

---

## 4. ãƒ†ã‚¹ãƒˆè¨­è¨ˆ

### ğŸ”´ High Priority: ARIA å±æ€§

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `has role="grid" on container` | ã‚³ãƒ³ãƒ†ãƒŠã® role |
| `has role="row" on all rows` | å…¨è¡Œã® role |
| `has role="gridcell" on data cells` | ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ«ã® role |
| `has role="columnheader" on header cells` | ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã® role |
| `has role="rowheader" when hasRowHeader` | è¡Œãƒ˜ãƒƒãƒ€ãƒ¼ã® role |
| `has accessible name via aria-label` | aria-label |
| `has accessible name via aria-labelledby` | aria-labelledby |
| **`rejects both aria-label and aria-labelledby`** | **ç›¸äº’æ’ä»–æ€§ã®æ¤œè¨¼** |
| **`requires aria-label or aria-labelledby`** | **å¿…é ˆæ€§ã®æ¤œè¨¼** |
| `has aria-multiselectable when multiselectable` | è¤‡æ•°é¸æŠãƒ¢ãƒ¼ãƒ‰ |
| `has aria-selected on selectable cells` | é¸æŠçŠ¶æ…‹ |
| `has aria-disabled on disabled cells` | ç„¡åŠ¹çŠ¶æ…‹ |
| `has aria-colspan on spanned cells` | åˆ—ã‚¹ãƒ‘ãƒ³ï¼ˆgridcellï¼‰ |
| `has aria-rowspan on spanned cells` | è¡Œã‚¹ãƒ‘ãƒ³ï¼ˆgridcellï¼‰ |
| **`has aria-colspan on spanned columnheader`** | **åˆ—ã‚¹ãƒ‘ãƒ³ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰** |
| **`has aria-rowspan on spanned rowheader`** | **è¡Œã‚¹ãƒ‘ãƒ³ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰** |

### ğŸ”´ High Priority: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ - 2D ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `ArrowRight moves focus one cell right` | å³ç§»å‹• |
| `ArrowLeft moves focus one cell left` | å·¦ç§»å‹• |
| `ArrowDown moves focus one row down` | ä¸‹ç§»å‹• |
| `ArrowUp moves focus one row up` | ä¸Šç§»å‹• |
| `ArrowRight stops at row end (default)` | è¡Œç«¯ã§åœæ­¢ |
| `ArrowRight wraps to next row (wrapNavigation)` | è¡Œç«¯ã§æŠ˜ã‚Šè¿”ã— |
| `ArrowDown stops at grid bottom` | ã‚°ãƒªãƒƒãƒ‰ä¸‹ç«¯ã§åœæ­¢ |
| `ArrowUp stops at first data row` | æœ€åˆã®ãƒ‡ãƒ¼ã‚¿è¡Œã§åœæ­¢ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã«ã¯ç§»å‹•ã—ãªã„ï¼‰ |
| `skips disabled cells during navigation` | disabled ã‚»ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ— |

### ğŸ”´ High Priority: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ - æ‹¡å¼µãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `Home moves to first cell in row` | è¡Œã®æœ€åˆã¸ |
| `End moves to last cell in row` | è¡Œã®æœ€å¾Œã¸ |
| `Ctrl+Home moves to first cell in grid` | æœ€åˆã®ãƒ‡ãƒ¼ã‚¿è¡Œãƒ»æœ€åˆã®åˆ—ã¸ |
| `Ctrl+End moves to last cell in grid` | æœ€å¾Œã®è¡Œãƒ»æœ€å¾Œã®åˆ—ã¸ |
| `PageDown moves down by pageSize` | ãƒšãƒ¼ã‚¸ãƒ€ã‚¦ãƒ³ |
| `PageUp moves up by pageSize` | ãƒšãƒ¼ã‚¸ã‚¢ãƒƒãƒ— |

### ğŸ”´ High Priority: ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `first focusable cell has tabIndex="0" by default` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®åˆæœŸ tabIndex |
| `defaultFocusedId sets initial focus` | åˆæœŸãƒ•ã‚©ãƒ¼ã‚«ã‚¹æŒ‡å®š |
| `other cells have tabIndex="-1"` | éãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚»ãƒ«ã® tabIndex |
| `focused cell updates tabIndex on navigation` | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã®æ›´æ–° |
| `disabled cells are focusable` | disabled ã§ã‚‚ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½ |
| `Tab focuses grid, then exits` | Tab ã§ã‚°ãƒªãƒƒãƒ‰ã«å…¥ã‚Šã€æ¬¡ã§å‡ºã‚‹ |
| **`Shift+Tab exits grid to previous element`** | **Shift+Tab ã§å‰ã®è¦ç´ ã¸** |
| `maintains focus position after re-render` | å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¾Œã®ç¶­æŒ |
| `navigates correctly across spanned cells` | ã‚¹ãƒ‘ãƒ³ã‚»ãƒ«ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ |
| `columnheader cells are not focusable` | ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸å¯ |

### ğŸ”´ High Priority: é¸æŠ

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `Space toggles selection (single)` | å˜ä¸€é¸æŠã§ã®ãƒˆã‚°ãƒ« |
| `Space toggles selection (multi)` | è¤‡æ•°é¸æŠã§ã®ãƒˆã‚°ãƒ« |
| `single selection clears previous on Space` | å˜ä¸€é¸æŠæ™‚ã€å‰ã®é¸æŠã‚’ã‚¯ãƒªã‚¢ |
| `Enter activates cell` | Enter ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ |
| `Enter does not activate disabled cell` | disabled ã‚»ãƒ«ã¯ Enter ã§ç„¡åå¿œ |
| `Space does not select disabled cell` | disabled ã‚»ãƒ«ã¯ Space ã§ç„¡åå¿œ |
| `Ctrl+A selects all (multiselectable only)` | å…¨é¸æŠ |
| `updates aria-selected on selection change` | é¸æŠçŠ¶æ…‹ã®æ›´æ–° |
| `calls onSelectionChange callback` | ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‘¼ã³å‡ºã— |
| `controlled selectedIds overrides internal state` | Controlled ãƒ¢ãƒ¼ãƒ‰ |

### ğŸŸ¡ Medium Priority: ä»®æƒ³åŒ–ã‚µãƒãƒ¼ãƒˆ

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `has aria-rowcount when totalRows provided` | ç·è¡Œæ•° |
| `has aria-colcount when totalColumns provided` | ç·åˆ—æ•° |
| `has aria-rowindex on rows when virtualizing` | è¡Œã®ä½ç½® |
| `has aria-rowindex on cells when virtualizing` | ã‚»ãƒ«ã®è¡Œä½ç½® |
| `has aria-colindex on cells when virtualizing` | ã‚»ãƒ«ã®åˆ—ä½ç½® |
| `has aria-colindex on columnheader when virtualizing` | ãƒ˜ãƒƒãƒ€ãƒ¼ã®åˆ—ä½ç½®ï¼ˆé™çš„ã ãŒä½ç½®æƒ…å ±ã¯å¿…è¦ï¼‰ |

---

## 5. å®Ÿè£…è©³ç´°

### 5.1 ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ï¼‰

> **Codex æŒ‡æ‘˜åæ˜ **: Props ã‚’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã«å†è¨­è¨ˆ

```typescript
// =============================================================================
// ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
// =============================================================================

// ã‚»ãƒ«ã®å€¤ï¼ˆãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã®ã¿ï¼‰
export interface GridCellData {
  id: string;
  value: string | number;  // è¡¨ç¤ºç”¨ã®å€¤
  disabled?: boolean;
  colspan?: number;
  rowspan?: number;
}

// åˆ—å®šç¾©
export interface GridColumnDef {
  id: string;
  header: string;
}

// è¡Œå®šç¾©
export interface GridRowData {
  id: string;
  cells: GridCellData[];
  hasRowHeader?: boolean;
  disabled?: boolean;
}

// =============================================================================
// å…±é€š Props ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆå…¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å…±é€šã®æ¦‚å¿µï¼‰
// =============================================================================

interface GridPropsBase {
  columns: GridColumnDef[];
  rows: GridRowData[];

  // Accessible nameï¼ˆã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿å¿…é ˆï¼‰
  ariaLabel?: string;
  ariaLabelledby?: string;

  // Selection
  selectable?: boolean;
  multiselectable?: boolean;
  selectedIds?: string[];
  defaultSelectedIds?: string[];

  // Focus
  focusedId?: string | null;
  defaultFocusedId?: string;

  // Virtualization
  totalColumns?: number;
  totalRows?: number;
  startRowIndex?: number;  // 1-based
  startColIndex?: number;  // 1-based

  // Behavior
  wrapNavigation?: boolean;
  enablePageNavigation?: boolean;
  pageSize?: number;  // default: 5
}
```

### 5.2 ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åˆ¥ã®å®Ÿè£…æ–¹é‡

#### React
```typescript
// ã‚»ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ renderCell prop ã§å¯¾å¿œ
export interface GridProps extends GridPropsBase {
  renderCell?: (cell: GridCellData, rowId: string, colId: string) => React.ReactNode;
  onSelectionChange?: (selectedIds: string[]) => void;
  onFocusChange?: (focusedId: string | null) => void;
  onCellActivate?: (cellId: string, rowId: string, colId: string) => void;
}
```

#### Vue
```vue
<script setup lang="ts">
// slot ã‚’ä½¿ç”¨ã—ã¦ã‚»ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
defineSlots<{
  cell?: (props: { cell: GridCellData; rowId: string; colId: string }) => any;
}>();
</script>
```

#### Svelte
```svelte
<script lang="ts">
// snippet ã‚’ä½¿ç”¨ã—ã¦ã‚»ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
let { renderCell, ...props }: GridProps & {
  renderCell?: Snippet<[GridCellData, string, string]>;
} = $props();
</script>
```

#### Astro (Web Components)
- `data-*` å±æ€§ã§ JSON ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™
- `<slot>` ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å®šç¾©

### 5.3 æ§‹é€ å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ div role="grid" aria-label="..."                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ div role="row" (header row)                                 â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚ â”‚ â”‚ columnheader â”‚ â”‚ columnheader â”‚ â”‚ columnheader â”‚         â”‚ â”‚
â”‚ â”‚ â”‚ (no tabIndex)â”‚ â”‚ (no tabIndex)â”‚ â”‚ (no tabIndex)â”‚         â”‚ â”‚
â”‚ â”‚ â”‚ NOT focusableâ”‚ â”‚ NOT focusableâ”‚ â”‚ NOT focusableâ”‚         â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ div role="row" (data row)                                   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚ â”‚ â”‚ gridcell     â”‚ â”‚ gridcell     â”‚ â”‚ gridcell     â”‚         â”‚ â”‚
â”‚ â”‚ â”‚ tabIndex=0   â”‚ â”‚ tabIndex=-1  â”‚ â”‚ tabIndex=-1  â”‚         â”‚ â”‚
â”‚ â”‚ â”‚ (focused)    â”‚ â”‚              â”‚ â”‚              â”‚         â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ div role="row" (data row)                                   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚ â”‚ â”‚ gridcell     â”‚ â”‚ gridcell     â”‚ â”‚ gridcell     â”‚         â”‚ â”‚
â”‚ â”‚ â”‚ tabIndex=-1  â”‚ â”‚ tabIndex=-1  â”‚ â”‚ tabIndex=-1  â”‚         â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Note**: `rowgroup` ãƒ­ãƒ¼ãƒ«ã¯çœç•¥ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ 2.1 å‚ç…§ï¼‰ã€‚row ã‚’ç›´æ¥ grid é…ä¸‹ã«é…ç½®ã€‚

---

## 6. TDD ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### Phase 0: è¨­è¨ˆæº–å‚™ âœ…
- [x] APG ä»•æ§˜ã®ç¢ºèª
- [x] é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®å·®åˆ†æ˜è¨˜
- [x] Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ 
- [x] `src/patterns/grid/llm.md` ã®ä½œæˆ

### Phase 1: ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆRED ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ âœ…
- [x] `src/patterns/grid/Grid.test.tsx`
- [x] `src/patterns/grid/Grid.test.vue.ts`
- [x] `src/patterns/grid/Grid.test.svelte.ts`
- [x] `src/patterns/grid/Grid.test.astro.ts`
- [x] `e2e/grid.spec.ts`

### Phase 2: å®Ÿè£…ï¼ˆGREEN ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ âœ…
- [x] `src/patterns/grid/Grid.tsx`
- [x] `src/patterns/grid/Grid.vue`
- [x] `src/patterns/grid/Grid.svelte`
- [x] `src/patterns/grid/Grid.astro`
- [x] `src/patterns/grid/GridDemo.tsx`
- [x] `src/patterns/grid/GridDemo.vue`
- [x] `src/patterns/grid/GridDemo.svelte`
- [x] `src/styles/patterns/grid.css`
- [x] `src/styles/global.css` ã« CSS ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ 

### Phase 3: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»ã‚¯ãƒªã‚¢ âœ…
```bash
npm run test:unit
```
- [x] å…¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹ã™ã‚‹ã¾ã§å®Ÿè£…ã‚’ä¿®æ­£

### Phase 4-5: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ âœ…
- [x] `src/patterns/grid/AccessibilityDocs.astro`
- [x] `src/patterns/grid/AccessibilityDocs.ja.astro`
- [x] `src/patterns/grid/TestingDocs.astro`
- [x] `src/patterns/grid/TestingDocs.ja.astro`

### Phase 6: ãƒšãƒ¼ã‚¸ä½œæˆãƒ»çµ±åˆ âœ…

#### 6.1 è‹±èªãƒšãƒ¼ã‚¸ä½œæˆ
- [x] `src/pages/patterns/grid/index.astro` (ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ - å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§å¯¾å¿œ)
- [x] `src/pages/patterns/grid/react/index.astro`
- [x] `src/pages/patterns/grid/react/demo/index.astro`
- [x] `src/pages/patterns/grid/vue/index.astro`
- [x] `src/pages/patterns/grid/vue/demo/index.astro`
- [x] `src/pages/patterns/grid/svelte/index.astro`
- [x] `src/pages/patterns/grid/svelte/demo/index.astro`
- [x] `src/pages/patterns/grid/astro/index.astro`
- [x] `src/pages/patterns/grid/astro/demo/index.astro`

#### 6.2 æ—¥æœ¬èªãƒšãƒ¼ã‚¸ä½œæˆ
- [x] `src/pages/ja/patterns/grid/react/index.astro`
- [x] `src/pages/ja/patterns/grid/react/demo/index.astro`
- [x] `src/pages/ja/patterns/grid/vue/index.astro`
- [x] `src/pages/ja/patterns/grid/vue/demo/index.astro`
- [x] `src/pages/ja/patterns/grid/svelte/index.astro`
- [x] `src/pages/ja/patterns/grid/svelte/demo/index.astro`
- [x] `src/pages/ja/patterns/grid/astro/index.astro`
- [x] `src/pages/ja/patterns/grid/astro/demo/index.astro`

#### 6.3 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°
- [x] `src/lib/patterns.ts` - Grid ã‚’è¿½åŠ ãƒ»status ã‚’ available ã«

### Phase 7: E2E ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»ã‚¯ãƒªã‚¢ âœ…

> **é‡è¦**: demoãƒšãƒ¼ã‚¸ãŒå®Œæˆã™ã‚‹ã¨ E2E ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œå¯èƒ½ã«ãªã‚‹ã€‚
> E2E ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦ãƒ‘ã‚¹ã™ã‚‹ã¾ã§å®Ÿè£…ã‚’ä¿®æ­£ã™ã‚‹ã“ã¨ã€‚

```bash
# E2E ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:e2e

# UI ãƒ¢ãƒ¼ãƒ‰ã§ãƒ‡ãƒãƒƒã‚°ï¼ˆå¤±æ•—æ™‚ï¼‰
npm run test:e2e:ui
```

**E2E ãƒ†ã‚¹ãƒˆã®ç¢ºèªé …ç›®**:
- [x] å…¨4ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã® Grid ãƒ‡ãƒ¢ãŒæ­£å¸¸ã«å‹•ä½œ
- [x] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãæ©Ÿèƒ½
- [x] é¸æŠæ“ä½œãŒæ­£ã—ãæ©Ÿèƒ½
- [x] ARIA å±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [x] ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ãŒæ­£ã—ãæ©Ÿèƒ½

### Phase 8: æœ€çµ‚ç¢ºèªãƒ»ãƒªãƒªãƒ¼ã‚¹ âœ…

```bash
# ãƒ“ãƒ«ãƒ‰ç¢ºèª
npm run build

# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test

# ãƒªãƒ³ãƒˆç¢ºèª
npm run lint
```

- [ ] `README.md` - å®Ÿè£…çŠ¶æ³ã‚’æ›´æ–°ï¼ˆæœªå®Ÿæ–½ï¼‰
- [ ] `README.ja.md` - å®Ÿè£…çŠ¶æ³ã‚’æ›´æ–°ï¼ˆæœªå®Ÿæ–½ï¼‰

---

## 7. å‚è€ƒãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å‚è€ƒã«ã™ã‚‹è¦³ç‚¹ |
|----------|----------------|
| `src/patterns/menubar/Menubar.tsx` | 2æ¬¡å…ƒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹çŠ¶æ…‹ç®¡ç† |
| `src/patterns/menubar/llm.md` | è©³ç´°ãª llm.md ã®æ§‹æˆ |
| `src/patterns/table/Table.tsx` | CSS Grid ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚»ãƒ«æ§‹é€  |
| `src/patterns/listbox/Listbox.tsx` | é¸æŠçŠ¶æ…‹ç®¡ç† |

---

## 8. ãƒªã‚¹ã‚¯ã¨æ³¨æ„ç‚¹

### æŠ€è¡“çš„ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| 2æ¬¡å…ƒãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®è¤‡é›‘æ€§ | é«˜ | Menubar ã®å®Ÿè£…ã‚’å‚è€ƒã«æ®µéšçš„å®Ÿè£… |
| ã‚»ãƒ«ã‚¹ãƒ‘ãƒ³ã¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®æ•´åˆæ€§ | é«˜ | ã‚¹ãƒ‘ãƒ³ã‚»ãƒ«ã®ã‚¹ã‚­ãƒƒãƒ—ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ…é‡ã«è¨­è¨ˆãƒ»ãƒ†ã‚¹ãƒˆ |
| ä»®æƒ³åŒ–å¯¾å¿œã®è¤‡é›‘æ€§ | ä¸­ | Props ã®ã¿æä¾›ã—ã€å®Ÿéš›ã®ä»®æƒ³åŒ–ã¯åˆ©ç”¨è€…ã«å§”ã­ã‚‹ |
| Astro Web Component ã®åˆ¶ç´„ | ä¸­ | E2E ãƒ†ã‚¹ãƒˆã§å‹•ä½œç¢ºèªã‚’å¾¹åº• |

### Codex æŒ‡æ‘˜ã«ã‚ˆã‚‹è¿½åŠ ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| **CSS Grid ã®è¦–è¦šé †åºã¨ DOM é †åºã®ã‚ºãƒ¬** | ä¸­ | `order` ã‚„ `grid-area` ã§ã®è¦–è¦šçš„ãªä¸¦ã¹æ›¿ãˆã‚’é¿ã‘ã‚‹é‹ç”¨ãƒ«ãƒ¼ãƒ«ã‚’æ–‡æ›¸åŒ– |
| **ID è‡ªå‹•ç”Ÿæˆã«ã‚ˆã‚‹ Controlled ãƒ¢ãƒ¼ãƒ‰ã®ç ´ç¶»** | ä¸­ | ID ç”Ÿæˆè¦ç´„ã‚’å…¨ FW ã§å…±é€šåŒ–ï¼ˆ`${rowId}-${colIndex}`ï¼‰ |
| **ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã¨é¸æŠã®æ··åŒ** | ä½ | ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã¯é¸æŠå¯¾è±¡å¤–ã¨æ˜è¨˜ |

### å®Ÿè£…ä¸Šã®æ³¨æ„ç‚¹

- **CSS ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ¼ã‚Œ**: `src/styles/patterns/grid.css` ã‚’ä½œæˆã—ãŸã‚‰ã€`src/styles/global.css` ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ 
- **ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†**: `useEffect` / `onMounted` / `onMount` ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«æ³¨æ„
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆ**: `event.preventDefault()` ã‚’é©åˆ‡ã«ä½¿ç”¨ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ï¼‰
- **ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«**: ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ãŒãªã„ãŸã‚ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯¾è±¡å¤–ï¼ˆtabIndex ã‚’è¨­å®šã—ãªã„ï¼‰

---

## 9. æˆæœç‰©ä¸€è¦§

### Phase 0: è¨­è¨ˆæº–å‚™ âœ…
- [x] `src/patterns/grid/llm.md`

### Phase 1: ãƒ†ã‚¹ãƒˆä½œæˆ âœ…
- [x] `src/patterns/grid/Grid.test.tsx`
- [x] `src/patterns/grid/Grid.test.vue.ts`
- [x] `src/patterns/grid/Grid.test.svelte.ts`
- [x] `src/patterns/grid/Grid.test.astro.ts`
- [x] `e2e/grid.spec.ts`

### Phase 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… âœ…
- [x] `src/patterns/grid/Grid.tsx`
- [x] `src/patterns/grid/Grid.vue`
- [x] `src/patterns/grid/Grid.svelte`
- [x] `src/patterns/grid/Grid.astro`
- [x] `src/patterns/grid/GridDemo.tsx`
- [x] `src/patterns/grid/GridDemo.vue`
- [x] `src/patterns/grid/GridDemo.svelte`
- [x] `src/styles/patterns/grid.css`
- [x] `src/styles/global.css` ã« CSS ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ 

### Phase 4-5: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ âœ…
- [x] `src/patterns/grid/AccessibilityDocs.astro`
- [x] `src/patterns/grid/AccessibilityDocs.ja.astro`
- [x] `src/patterns/grid/TestingDocs.astro`
- [x] `src/patterns/grid/TestingDocs.ja.astro`

### Phase 6: ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

#### è‹±èªãƒšãƒ¼ã‚¸
- [x] `src/pages/patterns/grid/index.astro` (å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§å¯¾å¿œ)
- [x] `src/pages/patterns/grid/react/index.astro`
- [x] `src/pages/patterns/grid/react/demo/index.astro`
- [x] `src/pages/patterns/grid/vue/index.astro`
- [x] `src/pages/patterns/grid/vue/demo/index.astro`
- [x] `src/pages/patterns/grid/svelte/index.astro`
- [x] `src/pages/patterns/grid/svelte/demo/index.astro`
- [x] `src/pages/patterns/grid/astro/index.astro`
- [x] `src/pages/patterns/grid/astro/demo/index.astro`

#### æ—¥æœ¬èªãƒšãƒ¼ã‚¸
- [x] `src/pages/ja/patterns/grid/react/index.astro`
- [x] `src/pages/ja/patterns/grid/react/demo/index.astro`
- [x] `src/pages/ja/patterns/grid/vue/index.astro`
- [x] `src/pages/ja/patterns/grid/vue/demo/index.astro`
- [x] `src/pages/ja/patterns/grid/svelte/index.astro`
- [x] `src/pages/ja/patterns/grid/svelte/demo/index.astro`
- [x] `src/pages/ja/patterns/grid/astro/index.astro`
- [x] `src/pages/ja/patterns/grid/astro/demo/index.astro`

### Phase 7: E2E ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»ã‚¯ãƒªã‚¢ âœ…
- [x] `npm run test:e2e` ã‚’å®Ÿè¡Œ
- [x] å…¨ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹ã™ã‚‹ã¾ã§å®Ÿè£…ã‚’ä¿®æ­£

### Phase 8: æœ€çµ‚æ›´æ–° âœ…
- [x] `src/lib/patterns.ts` - Grid ã‚’è¿½åŠ ãƒ»status ã‚’ available ã«
- [x] `README.md` - å®Ÿè£…çŠ¶æ³ã‚’æ›´æ–°
- [x] `README.ja.md` - å®Ÿè£…çŠ¶æ³ã‚’æ›´æ–°
- [x] `npm run build` ã§ãƒ“ãƒ«ãƒ‰ç¢ºèª
- [x] `npm run test` ã§å…¨ãƒ†ã‚¹ãƒˆç¢ºèª
- [x] `npm run lint` ã§ãƒªãƒ³ãƒˆç¢ºèª

---

## 10. è¨ˆç”»ã¨å®Ÿè£…ã®å·®åˆ†

### è¿½åŠ ã•ã‚ŒãŸ Props

| Prop | èª¬æ˜ | è¨ˆç”»æ™‚ã®çŠ¶æ…‹ |
|------|------|-------------|
| `enablePageNavigation` | PageUp/PageDown ã‚’æœ‰åŠ¹åŒ– | æœªå®šç¾©ï¼ˆæš—é»™çš„ã«æœ‰åŠ¹ã ã¨æƒ³å®šï¼‰ |
| `GridColumnDef.colspan` | ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ«ã® colspan | æœªå®šç¾© |

### å®Ÿè£…ã•ã‚Œãªã‹ã£ãŸæ©Ÿèƒ½

| æ©Ÿèƒ½ | ç†ç”± |
|------|------|
| aria-label/labelledby ã®ç›¸äº’æ’ä»–æ¤œè¨¼ | è¤‡é›‘åº¦å›é¿ã€ä¸¡æ–¹æŒ‡å®šã—ã¦ã‚‚å‹•ä½œã™ã‚‹ |
| aria-rowspan ãƒ†ã‚¹ãƒˆ (rowheader) | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æœªä½œæˆ |
| ã‚¹ãƒ‘ãƒ³ã‚»ãƒ«ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æœªä½œæˆ |
| ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä½ç½®ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¾Œç¶­æŒãƒ†ã‚¹ãƒˆ | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æœªä½œæˆ |

### å‹•ä½œã®å·®ç•°

| é …ç›® | è¨ˆç”» | å®Ÿè£… |
|------|------|------|
| `Ctrl+A` | multiselectable æ™‚ã®ã¿ | `selectable` AND `multiselectable` æ™‚ |
| PageUp/PageDown | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ | `enablePageNavigation=true` ã§æœ‰åŠ¹ |
| disabled ã‚»ãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | ã‚¹ã‚­ãƒƒãƒ— | ã‚¹ã‚­ãƒƒãƒ—ï¼ˆskipDisabled ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ¶å¾¡å¯èƒ½ï¼‰ |
