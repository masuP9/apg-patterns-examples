# TreeGrid ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…è¨ˆç”»æ›¸

> **Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ ç‰ˆ** - 2025å¹´1æœˆ

## 1. æ¦‚è¦

TreeGrid ã¯ã€å±•é–‹å¯èƒ½ãªéšå±¤æ§‹é€ ã‚’æŒã¤ãƒ‡ãƒ¼ã‚¿ã‚°ãƒªãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚Grid ã®2DãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ TreeView ã®éšå±¤å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã‚’çµ„ã¿åˆã‚ã›ãŸè¤‡åˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

**ä¸»è¦æ©Ÿèƒ½**:
- 2D ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚»ãƒ«å˜ä½ï¼‰
- éšå±¤æ§‹é€ ã®å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿
- **è¡Œé¸æŠ**ï¼ˆã‚·ãƒ³ã‚°ãƒ«/ãƒãƒ«ãƒï¼‰â€»ã‚»ãƒ«é¸æŠã§ã¯ãªãè¡Œé¸æŠã«çµ±ä¸€
- è¡Œãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼å¯¾å¿œ

**é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³**: Grid, TreeView

**APG å…¬å¼ URL**: https://www.w3.org/WAI/ARIA/apg/patterns/treegrid/

**è¤‡é›‘åº¦**: é«˜ï¼ˆGrid + TreeView ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼‰

**ãƒã‚¤ãƒ†ã‚£ãƒ– HTML ä»£æ›¿**: ãªã—

### ğŸ”´ Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ äº‹é …

1. **Enter ã‚­ãƒ¼ã®å½¹å‰²åˆ†é›¢**: Enter ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã®ã¿ã€å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯ ArrowRight/Left ã®ã¿
2. **ãƒ„ãƒªãƒ¼åˆ¶å¾¡ã‚»ãƒ«ã®æ˜ç¢ºåŒ–**: rowheaderï¼ˆå…ˆé ­åˆ—ï¼‰ã®ã¿ãŒãƒ„ãƒªãƒ¼æ“ä½œã‚’æ‹…ã†
3. **é¸æŠãƒ¢ãƒ‡ãƒ«ã®çµ±ä¸€**: è¡Œé¸æŠã«çµ±ä¸€ï¼ˆGrid ã¯ã‚»ãƒ«é¸æŠã€TreeView ã¯è¡Œé¸æŠã®ãŸã‚ã€TreeGrid ã¯è¡Œé¸æŠã‚’æ¡ç”¨ï¼‰
4. **ä»®æƒ³åŒ–å¯¾å¿œã®å®Œçµ**: aria-rowindex/aria-colindex ã®ãƒ«ãƒ¼ãƒ«ã‚’æ˜è¨˜
5. **Props ã®å‹å¤‰æ›´**: Set<string> ã‹ã‚‰ string[] ã«å¤‰æ›´ï¼ˆæ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®ä¸€è²«æ€§ï¼‰

---

## 2. APG ä»•æ§˜ã‚µãƒãƒªãƒ¼

### Roles

| Role | å¯¾è±¡è¦ç´  | èª¬æ˜ |
|------|----------|------|
| `treegrid` | ã‚³ãƒ³ãƒ†ãƒŠ | ãƒ„ãƒªãƒ¼ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ |
| `row` | è¡Œè¦ç´  | å„ãƒ‡ãƒ¼ã‚¿è¡Œ |
| `rowgroup` | è¡Œã‚°ãƒ«ãƒ¼ãƒ— | è¡Œã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |
| `gridcell` | ã‚»ãƒ« | é€šå¸¸ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ« |
| `columnheader` | ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ãƒ« | åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ |
| `rowheader` | è¡Œãƒ˜ãƒƒãƒ€ãƒ¼ | è¡Œã®è­˜åˆ¥ã‚»ãƒ« |

### Propertiesï¼ˆé™çš„å±æ€§ï¼‰

| å±æ€§ | å¯¾è±¡è¦ç´  | å€¤ | å¿…é ˆ | å‚™è€ƒ |
|------|----------|-----|------|------|
| `aria-label` / `aria-labelledby` | treegrid | String / ID | Yes | ã©ã¡ã‚‰ã‹å¿…é ˆ |
| `aria-multiselectable` | treegrid | `true`/`false` | No | ãƒãƒ«ãƒã‚»ãƒ¬ã‚¯ãƒˆæ™‚ |
| `aria-rowcount` | treegrid | Integer | No | ä»®æƒ³åŒ–æ™‚ã®ç·è¡Œæ•° |
| `aria-colcount` | treegrid | Integer | No | ä»®æƒ³åŒ–æ™‚ã®ç·åˆ—æ•° |
| `aria-level` | row | Integer (1-based) | Yes | éšå±¤ã®æ·±ã• |
| `aria-setsize` | row | Integer | No | åŒãƒ¬ãƒ™ãƒ«ã®å…„å¼Ÿæ•° |
| `aria-posinset` | row | Integer (1-based) | No | åŒãƒ¬ãƒ™ãƒ«å†…ã®ä½ç½® |
| `aria-rowindex` | row | Integer (1-based) | No | ä»®æƒ³åŒ–æ™‚ã®è¡Œä½ç½® |
| `aria-colindex` | gridcell | Integer (1-based) | No | ä»®æƒ³åŒ–æ™‚ã®åˆ—ä½ç½® |

### Statesï¼ˆå‹•çš„å±æ€§ï¼‰

| å±æ€§ | å¯¾è±¡è¦ç´  | å€¤ | å¿…é ˆ | å¤‰æ›´ãƒˆãƒªã‚¬ãƒ¼ |
|------|----------|-----|------|--------------|
| `aria-expanded` | rowï¼ˆè¦ªè¡Œï¼‰ | `true`/`false` | Yesï¼ˆè¦ªè¡Œã®ã¿ï¼‰ | ArrowRight/Leftï¼ˆrowheaderä¸Šï¼‰, ã‚¯ãƒªãƒƒã‚¯ |
| `aria-selected` | row | `true`/`false` | Noï¼ˆselectableæ™‚ï¼‰ | Space, ã‚¯ãƒªãƒƒã‚¯ |
| `aria-disabled` | row / gridcell | `true` | No | é™çš„ |

> **ğŸ”´ Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ **: `aria-selected` ã¯è¡Œï¼ˆrowï¼‰ã«ä»˜ä¸ã€‚ã‚»ãƒ«ï¼ˆgridcellï¼‰ã§ã¯ãªã„ã€‚

### Keyboard Support

| ã‚­ãƒ¼ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | å‚™è€ƒ |
|------|------------|------|
| `â†“` | æ¬¡ã®è¡Œã®åŒåˆ—ã‚»ãƒ«ã«ç§»å‹• | |
| `â†‘` | å‰ã®è¡Œã®åŒåˆ—ã‚»ãƒ«ã«ç§»å‹• | |
| `â†’` | å³éš£ã®ã‚»ãƒ«ã«ç§»å‹• / **rowheaderä¸Šã§æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸè¦ªè¡Œã‚’å±•é–‹** | ğŸ”´ rowheader ä¸Šã®ã¿å±•é–‹ |
| `â†` | å·¦éš£ã®ã‚»ãƒ«ã«ç§»å‹• / **rowheaderä¸Šã§å±•é–‹ã•ã‚ŒãŸè¦ªè¡Œã‚’æŠ˜ã‚ŠãŸãŸã¿** | ğŸ”´ rowheader ä¸Šã®ã¿æŠ˜ã‚ŠãŸãŸã¿ |
| `Enter` | ã‚»ãƒ«ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆï¼ˆonCellActivate å‘¼ã³å‡ºã—ï¼‰ | ğŸ”´ å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯è¡Œã‚ãªã„ |
| `Space` | **è¡Œé¸æŠ**ãƒˆã‚°ãƒ« | ğŸ”´ è¡Œé¸æŠï¼ˆã‚»ãƒ«é¸æŠã§ã¯ãªã„ï¼‰ |
| `Home` | ç¾åœ¨è¡Œã®æœ€åˆã®ã‚»ãƒ«ã«ç§»å‹• | |
| `End` | ç¾åœ¨è¡Œã®æœ€å¾Œã®ã‚»ãƒ«ã«ç§»å‹• | |
| `Ctrl+Home` | æœ€åˆã®è¡Œã®æœ€åˆã®ã‚»ãƒ«ã«ç§»å‹• | |
| `Ctrl+End` | æœ€å¾Œã®è¡Œã®æœ€å¾Œã®ã‚»ãƒ«ã«ç§»å‹• | |
| `Ctrl+A` | å…¨è¡Œé¸æŠï¼ˆmultiselectable æ™‚ï¼‰ | ğŸ”´ è¿½åŠ  |
| `PageDown` | pageSize è¡Œä¸‹ã«ç§»å‹• | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ |
| `PageUp` | pageSize è¡Œä¸Šã«ç§»å‹• | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ |
| `Tab` | ã‚»ãƒ«å†…ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆé–“ç§»å‹• / ã‚°ãƒªãƒƒãƒ‰å¤–ã¸ | |

### Focus Management

- Roving tabindex ãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½ãªã‚»ãƒ«: `tabindex="0"` (1ã¤ã®ã¿)
- ãã®ä»–ã®ã‚»ãƒ«: `tabindex="-1"`
- åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸å¯
- æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸè¡Œã®å­è¡Œã¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡å¤–

---

## 3. é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®å·®åˆ†

### 3.1 TreeGrid vs Grid ã®å·®åˆ†

**é¸å®šç†ç”±**: Grid ã¯2DãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºç›¤ãƒ‘ã‚¿ãƒ¼ãƒ³

| æ©Ÿèƒ½ | Grid | TreeGrid | é•ã„ã®ç†ç”± |
|------|------|----------|------------|
| ã‚³ãƒ³ãƒ†ãƒŠãƒ­ãƒ¼ãƒ« | `grid` | `treegrid` | éšå±¤æ§‹é€ ã‚’ç¤ºã™ãŸã‚ |
| `â†’` ã‚­ãƒ¼ï¼ˆrowheaderä¸Šï¼‰ | å³ã‚»ãƒ«ã«ç§»å‹• | æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸè¦ªè¡Œã‚’å±•é–‹ | éšå±¤æ“ä½œãŒå¿…è¦ |
| `â†’` ã‚­ãƒ¼ï¼ˆä»–ã®ã‚»ãƒ«ä¸Šï¼‰ | å³ã‚»ãƒ«ã«ç§»å‹• | å³ã‚»ãƒ«ã«ç§»å‹•ï¼ˆåŒã˜ï¼‰ | - |
| `â†` ã‚­ãƒ¼ï¼ˆrowheaderä¸Šï¼‰ | åœæ­¢ | å±•é–‹ã•ã‚ŒãŸè¦ªè¡Œã‚’æŠ˜ã‚ŠãŸãŸã¿ / è¦ªè¡Œã«ç§»å‹• | éšå±¤æ“ä½œãŒå¿…è¦ |
| `â†` ã‚­ãƒ¼ï¼ˆä»–ã®ã‚»ãƒ«ä¸Šï¼‰ | å·¦ã‚»ãƒ«ã«ç§»å‹• | å·¦ã‚»ãƒ«ã«ç§»å‹•ï¼ˆåŒã˜ï¼‰ | - |
| `Enter` ã‚­ãƒ¼ | ã‚»ãƒ«ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ | ã‚»ãƒ«ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆï¼ˆåŒã˜ï¼‰ | ğŸ”´ å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯ ArrowRight/Left ã«åˆ†é›¢ |
| `Space` ã‚­ãƒ¼ | ã‚»ãƒ«é¸æŠ | **è¡Œé¸æŠ** | é¸æŠãƒ¢ãƒ‡ãƒ«ã®é•ã„ |
| `aria-expanded` | ãªã— | å¿…é ˆï¼ˆè¦ªè¡Œï¼‰ | å±•é–‹çŠ¶æ…‹ã®ç®¡ç† |
| `aria-level` | ãªã— | å¿…é ˆ | éšå±¤ã®æ·±ã•ã‚’ç¤ºã™ |
| `aria-selected` å¯¾è±¡ | gridcell | **row** | è¡Œé¸æŠã«çµ±ä¸€ |
| `aria-setsize` / `aria-posinset` | ãªã— | æ¨å¥¨ | åŒãƒ¬ãƒ™ãƒ«å†…ã®ä½ç½® |

**è©³ç´°èª¬æ˜**:

#### ArrowRight ã®å‹•ä½œå·®åˆ†

**Grid ã§ã®å‹•ä½œ**:
- å¸¸ã«å³éš£ã®ã‚»ãƒ«ã«ç§»å‹•
- è¡Œæœ«ã§ã¯åœæ­¢ï¼ˆwrapNavigation=falseï¼‰ã¾ãŸã¯æ¬¡è¡Œã®å…ˆé ­ã¸

**TreeGrid ã§ã®å‹•ä½œ**:
1. **rowheaderï¼ˆå…ˆé ­åˆ—ï¼‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚Šã€è¦ªè¡ŒãŒæŠ˜ã‚ŠãŸãŸã¾ã‚Œã¦ã„ã‚‹å ´åˆ**: è¡Œã‚’å±•é–‹
2. **rowheader ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚Šã€è¦ªè¡ŒãŒå±•é–‹ã•ã‚Œã¦ã„ã‚‹å ´åˆ**: æœ€åˆã®å­è¡Œã® rowheader ã«ç§»å‹•
3. **rowheader ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚Šã€ãƒªãƒ¼ãƒ•è¡Œã®å ´åˆ**: ä½•ã‚‚ã—ãªã„ï¼ˆåœæ­¢ï¼‰
4. **ãã‚Œä»¥å¤–ï¼ˆrowheader ä»¥å¤–ã®ã‚»ãƒ«ï¼‰**: å³éš£ã®ã‚»ãƒ«ã«ç§»å‹•ï¼ˆGrid ã¨åŒã˜ï¼‰

> ğŸ”´ **é‡è¦**: rowheader ä»¥å¤–ã®ã‚»ãƒ«ã§ã¯ã€å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯ç™ºç”Ÿã—ãªã„

#### ArrowLeft ã®å‹•ä½œå·®åˆ†

**Grid ã§ã®å‹•ä½œ**:
- å¸¸ã«å·¦éš£ã®ã‚»ãƒ«ã«ç§»å‹•
- è¡Œé ­ã§ã¯åœæ­¢

**TreeGrid ã§ã®å‹•ä½œ**:
1. **rowheader ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚Šã€è¦ªè¡ŒãŒå±•é–‹ã•ã‚Œã¦ã„ã‚‹å ´åˆ**: è¡Œã‚’æŠ˜ã‚ŠãŸãŸã¿
2. **rowheader ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚Šã€è¡ŒãŒæŠ˜ã‚ŠãŸãŸã¾ã‚Œã¦ã„ã‚‹ï¼ˆã¾ãŸã¯å­ãªã—ï¼‰å ´åˆ**: è¦ªè¡Œã® rowheader ã«ç§»å‹•
3. **rowheader ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚Šã€ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã§æŠ˜ã‚ŠãŸãŸã¾ã‚Œã¦ã„ã‚‹å ´åˆ**: ä½•ã‚‚ã—ãªã„ï¼ˆåœæ­¢ï¼‰
4. **ãã‚Œä»¥å¤–ï¼ˆrowheader ä»¥å¤–ã®ã‚»ãƒ«ï¼‰**: å·¦éš£ã®ã‚»ãƒ«ã«ç§»å‹•ï¼ˆGrid ã¨åŒã˜ï¼‰

> ğŸ”´ **é‡è¦**: rowheader ä»¥å¤–ã®ã‚»ãƒ«ã§ã¯ã€æŠ˜ã‚ŠãŸãŸã¿ã¯ç™ºç”Ÿã—ãªã„

### 3.2 TreeGrid vs TreeView ã®å·®åˆ†

**é¸å®šç†ç”±**: TreeView ã¯éšå±¤å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã®åŸºç›¤ãƒ‘ã‚¿ãƒ¼ãƒ³

| æ©Ÿèƒ½ | TreeView | TreeGrid | é•ã„ã®ç†ç”± |
|------|----------|----------|------------|
| ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å˜ä½ | ãƒãƒ¼ãƒ‰ï¼ˆ1Dï¼‰ | ã‚»ãƒ«ï¼ˆ2Dï¼‰ | è¤‡æ•°åˆ—ã®ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º |
| ã‚³ãƒ³ãƒ†ãƒŠãƒ­ãƒ¼ãƒ« | `tree` | `treegrid` | ã‚°ãƒªãƒƒãƒ‰æ§‹é€ ã‚’ç¤ºã™ |
| å­è¦ç´ ãƒ­ãƒ¼ãƒ« | `treeitem` | `row` + `gridcell` | è¡Œã¨ã‚»ãƒ«ã®åˆ†é›¢ |
| `â†’` / `â†` ã‚­ãƒ¼ | å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã®ã¿ | å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ + ã‚»ãƒ«ç§»å‹• | 2Dç§»å‹•ãŒå¿…è¦ |
| `â†“` / `â†‘` ã‚­ãƒ¼ | æ¬¡/å‰ã®ãƒãƒ¼ãƒ‰ | æ¬¡/å‰ã®è¡Œã®åŒåˆ—ã‚»ãƒ« | åˆ—ä½ç½®ã‚’ç¶­æŒ |
| `Home` / `End` | æœ€åˆ/æœ€å¾Œã®ãƒãƒ¼ãƒ‰ | è¡Œé ­/è¡Œæœ«ã‚»ãƒ« | ã‚»ãƒ«å˜ä½ã®ç§»å‹• |
| åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ | ãªã— | ã‚ã‚Š | è¡¨å½¢å¼ãƒ‡ãƒ¼ã‚¿ã®èª¬æ˜ |
| `aria-colindex` | ãªã— | ã‚ã‚Šï¼ˆä»®æƒ³åŒ–æ™‚ï¼‰ | åˆ—ä½ç½®ã®æ˜ç¤º |

**è©³ç´°èª¬æ˜**:

#### ArrowDown/Up ã®å‹•ä½œå·®åˆ†

**TreeView ã§ã®å‹•ä½œ**:
- è¡¨ç¤ºä¸­ã®æ¬¡/å‰ã®ãƒãƒ¼ãƒ‰ã«ç§»å‹•ï¼ˆãƒ•ãƒ©ãƒƒãƒˆãƒªã‚¹ãƒˆé †ï¼‰
- æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸå­ã¯ã‚¹ã‚­ãƒƒãƒ—

**TreeGrid ã§ã®å‹•ä½œ**:
- æ¬¡/å‰ã®è¡Œã®**åŒã˜åˆ—ã®ã‚»ãƒ«**ã«ç§»å‹•
- åˆ—ä½ç½®ã‚’ç¶­æŒã—ãŸã¾ã¾è¡Œã‚’ç§»å‹•
- æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸå­è¡Œã¯ã‚¹ã‚­ãƒƒãƒ—

### 3.3 å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …

> âš ï¸ ä»¥ä¸‹ã®ç‚¹ã¯ã€ŒGrid ã¨åŒã˜ã€ã€ŒTreeView ã¨åŒã˜ã€ã§ã¯ãªã„ãŸã‚ã€å€‹åˆ¥ã«å®Ÿè£…ãŒå¿…è¦:

1. **ArrowRight/Left ã®æ¡ä»¶åˆ†å²**: rowheader ä¸Šã§ã¯å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã€ãã‚Œä»¥å¤–ã§ã¯ã‚»ãƒ«ç§»å‹•
2. **Enter ã‚­ãƒ¼ã®å½¹å‰²**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã®ã¿ï¼ˆğŸ”´ å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯è¡Œã‚ãªã„ï¼‰
3. **Space ã‚­ãƒ¼ã®å½¹å‰²**: è¡Œé¸æŠï¼ˆğŸ”´ ã‚»ãƒ«é¸æŠã§ã¯ãªã„ï¼‰
4. **è¡Œã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç®¡ç†**: éšå±¤æ§‹é€  + å±•é–‹çŠ¶æ…‹ã‚’è€ƒæ…®ã—ãŸå¯è¦–è¡Œã®è¨ˆç®—
5. **aria-level ã®å‹•çš„è¨ˆç®—**: ãƒã‚¹ãƒˆã®æ·±ã•ã«å¿œã˜ãŸå€¤ã®è¨­å®š
6. **aria-rowindex/aria-colindex**: ä»®æƒ³åŒ–æ™‚ã«å¿…é ˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’å«ã‚ãŸé€£ç•ªï¼‰

### 3.4 å·®åˆ†ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] å„å·®åˆ†ã®ã€Œé•ã„ã®ç†ç”±ã€ãŒæ˜ç¢ºã«èª¬æ˜ã•ã‚Œã¦ã„ã‚‹
- [x] æ›–æ˜§ãªè¡¨ç¾ï¼ˆã€ŒåŒæ§˜ã€ã€Œä¼¼ã¦ã„ã‚‹ã€ï¼‰ãŒãªã„
- [x] å®Ÿè£…è€…ãŒã€Œã“ã‚Œã¯åˆ¥ç‰©ã€ã¨èªè­˜ã§ãã‚‹

---

## 4. ãƒ†ã‚¹ãƒˆè¨­è¨ˆ

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```typescript
describe('TreeGrid', () => {
  // ğŸ”´ High Priority: APG æº–æ‹ ã®æ ¸å¿ƒ
  describe('APG ARIA Attributes', () => {
    // treegrid ãƒ­ãƒ¼ãƒ«ã®æ¤œè¨¼
    // è¡Œã¨ã‚»ãƒ«ã®ãƒ­ãƒ¼ãƒ«æ¤œè¨¼
    // aria-expanded ã®æ¤œè¨¼
    // aria-level ã®æ¤œè¨¼
  });

  describe('APG Keyboard Interaction', () => {
    // 2D ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆçŸ¢å°ã‚­ãƒ¼ï¼‰
    // å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿æ“ä½œ
    // Home/End æ“ä½œ
    // Enter/Space æ“ä½œ
  });

  describe('Focus Management', () => {
    // Roving tabindex ã®æ¤œè¨¼
    // å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿æ™‚ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç¶­æŒ
  });

  // ğŸŸ¡ Medium Priority
  describe('Accessibility', () => {
    // axe-core é•åãªã—ã®æ¤œè¨¼
  });

  // ğŸŸ¢ Low Priority
  describe('Props & Behavior', () => {
    // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‘¼ã³å‡ºã—ã®æ¤œè¨¼
  });
});
```

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

#### ğŸ”´ High Priority: ARIA å±æ€§

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `has role="treegrid" on container` | ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ­ãƒ¼ãƒ« |
| `has role="row" on each row` | è¡Œã®ãƒ­ãƒ¼ãƒ« |
| `has role="gridcell" on data cells` | ã‚»ãƒ«ã®ãƒ­ãƒ¼ãƒ« |
| `has role="rowheader" on first cell when specified` | è¡Œãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ­ãƒ¼ãƒ« |
| `has role="columnheader" on header cells` | åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ­ãƒ¼ãƒ« |
| `has aria-expanded on parent rows` | è¦ªè¡Œã®å±•é–‹çŠ¶æ…‹ |
| `does not have aria-expanded on leaf rows` | ãƒªãƒ¼ãƒ•è¡Œã«ã¯ aria-expanded ãªã— |
| `has aria-level on all rows` | éšå±¤ãƒ¬ãƒ™ãƒ«ã®è¨­å®š |
| `aria-level increments with depth` | ğŸ”´ æ·±ã•ã”ã¨ã« aria-level ãŒå¢—åŠ  |
| `has aria-label or aria-labelledby` | ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«å |
| `has aria-selected on row (not gridcell)` | ğŸ”´ è¡Œã« aria-selected ã‚’ä»˜ä¸ |
| `has aria-rowindex/aria-colindex when virtualized` | ğŸ”´ ä»®æƒ³åŒ–æ™‚ã®ä½ç½®æƒ…å ± |

#### ğŸ”´ High Priority: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `moves focus down on ArrowDown` | ä¸‹ã®è¡Œã®åŒåˆ—ã‚»ãƒ«ã«ç§»å‹• |
| `moves focus up on ArrowUp` | ä¸Šã®è¡Œã®åŒåˆ—ã‚»ãƒ«ã«ç§»å‹• |
| `moves focus right on ArrowRight (non-rowheader)` | ğŸ”´ rowheader ä»¥å¤–ã®ã‚»ãƒ«ã§å³ã‚»ãƒ«ã«ç§»å‹• |
| `ArrowRight on non-first column does not expand` | ğŸ”´ rowheader ä»¥å¤–ã§ã¯å±•é–‹ã—ãªã„ |
| `expands collapsed row on ArrowRight at rowheader` | ğŸ”´ rowheader ã§æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸè¦ªè¡Œã‚’å±•é–‹ |
| `moves to first child on ArrowRight at expanded rowheader` | ğŸ”´ rowheader ã§å±•é–‹ã•ã‚ŒãŸè¦ªè¡Œã®å­ã«ç§»å‹• |
| `moves focus left on ArrowLeft (non-rowheader)` | ğŸ”´ rowheader ä»¥å¤–ã®ã‚»ãƒ«ã§å·¦ã‚»ãƒ«ã«ç§»å‹• |
| `ArrowLeft on non-first column does not collapse` | ğŸ”´ rowheader ä»¥å¤–ã§ã¯æŠ˜ã‚ŠãŸãŸã¾ãªã„ |
| `collapses expanded row on ArrowLeft at rowheader` | ğŸ”´ rowheader ã§å±•é–‹ã•ã‚ŒãŸè¦ªè¡Œã‚’æŠ˜ã‚ŠãŸãŸã¿ |
| `moves to parent on ArrowLeft at collapsed rowheader` | ğŸ”´ rowheader ã§æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸè¡Œã‹ã‚‰è¦ªã«ç§»å‹• |
| `moves to first cell on Home` | è¡Œé ­ã«ç§»å‹• |
| `moves to last cell on End` | è¡Œæœ«ã«ç§»å‹• |
| `moves to first row first cell on Ctrl+Home` | æœ€åˆã®ã‚»ãƒ«ã«ç§»å‹• |
| `moves to last row last cell on Ctrl+End` | æœ€å¾Œã®ã‚»ãƒ«ã«ç§»å‹• |
| `activates cell on Enter (no expand/collapse)` | ğŸ”´ Enter ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã®ã¿ |
| `toggles row selection on Space` | ğŸ”´ Space ã§è¡Œé¸æŠãƒˆã‚°ãƒ« |
| `selects all visible rows on Ctrl+A` | ğŸ”´ Ctrl+A ã§å…¨è¡Œé¸æŠ |

#### ğŸ”´ High Priority: ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `only one cell has tabindex="0"` | å˜ä¸€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½è¦ç´  |
| `maintains column position when moving between rows` | è¡Œç§»å‹•æ™‚ã«åˆ—ä½ç½®ç¶­æŒ |
| `skips collapsed child rows on navigation` | æŠ˜ã‚ŠãŸãŸã¾ã‚ŒãŸè¡Œã‚’ã‚¹ã‚­ãƒƒãƒ— |
| `moves focus to parent when collapsing with focus on child` | æŠ˜ã‚ŠãŸãŸã¿æ™‚ã«è¦ªã¸ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹• |

#### ğŸŸ¡ Medium Priority: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | æ¤œè¨¼å†…å®¹ |
|--------------|----------|
| `has no axe violations` | WCAG 2.1 AA æº–æ‹  |
| `has no axe violations when expanded` | å±•é–‹æ™‚ã®æº–æ‹  |
| `has no axe violations when collapsed` | æŠ˜ã‚ŠãŸãŸã¿æ™‚ã®æº–æ‹  |

---

## 5. å®Ÿè£…è©³ç´°

### Props è¨­è¨ˆï¼ˆReactï¼‰

> ğŸ”´ **Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ **: Set<string> ã‹ã‚‰ string[] ã«å¤‰æ›´ï¼ˆæ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®ä¸€è²«æ€§ã€ç ´å£Šçš„å¤‰æ›´ãƒªã‚¹ã‚¯ã®å›é¿ï¼‰

```typescript
// TreeGridNodeData: ãƒãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
export interface TreeGridNodeData {
  id: string;
  cells: TreeGridCellData[];
  children?: TreeGridNodeData[];
  disabled?: boolean;
}

export interface TreeGridCellData {
  id: string;
  value: string | number;
  disabled?: boolean;
  colspan?: number;
}

export interface TreeGridColumnDef {
  id: string;
  header: string;
  isRowHeader?: boolean; // æœ€åˆã®åˆ—ã‚’ rowheader ã«
}

export interface TreeGridProps extends Omit<
  React.HTMLAttributes<HTMLDivElement>,
  'role' | 'aria-label' | 'aria-labelledby'
> {
  // å¿…é ˆ props
  columns: TreeGridColumnDef[];
  nodes: TreeGridNodeData[];

  // ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«åï¼ˆã©ã¡ã‚‰ã‹å¿…é ˆï¼‰
  ariaLabel?: string;
  ariaLabelledby?: string;

  // å±•é–‹çŠ¶æ…‹ï¼ˆğŸ”´ é…åˆ—ã«å¤‰æ›´ï¼‰
  expandedIds?: string[];
  defaultExpandedIds?: string[];
  onExpandedChange?: (ids: string[]) => void;

  // é¸æŠçŠ¶æ…‹ï¼ˆğŸ”´ é…åˆ—ã«å¤‰æ›´ã€è¡Œé¸æŠï¼‰
  selectable?: boolean;
  multiselectable?: boolean;
  selectedRowIds?: string[];        // ğŸ”´ selectedIds â†’ selectedRowIds
  defaultSelectedRowIds?: string[];
  onSelectionChange?: (rowIds: string[]) => void;

  // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
  focusedCellId?: string | null;
  defaultFocusedCellId?: string;
  onFocusChange?: (cellId: string | null) => void;

  // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
  onCellActivate?: (cellId: string, rowId: string, colId: string) => void;
  onRowActivate?: (rowId: string) => void;  // ğŸ”´ è¿½åŠ 

  // ä»®æƒ³åŒ–å¯¾å¿œï¼ˆğŸ”´ è¿½åŠ ï¼‰
  totalRows?: number;      // aria-rowcount
  totalColumns?: number;   // aria-colcount
  startRowIndex?: number;  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’å«ã‚€å ´åˆã¯ 2ï¼‰
  startColIndex?: number;  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1

  // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  enablePageNavigation?: boolean;
  pageSize?: number;
}
```

### æ§‹é€ å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ div role="treegrid" aria-label="..."                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ div role="row" (header)                                 â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚ â”‚ â”‚columnheader â”‚ â”‚columnheader â”‚ â”‚columnheader â”‚        â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ div role="row" aria-level="1" aria-expanded="true"      â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚ â”‚ â”‚ rowheader   â”‚ â”‚  gridcell   â”‚ â”‚  gridcell   â”‚        â”‚ â”‚
â”‚ â”‚ â”‚ tabindex={} â”‚ â”‚ tabindex=-1 â”‚ â”‚ tabindex=-1 â”‚        â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ div role="row" aria-level="2" (child)                 â”‚ â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚   â”‚ â”‚ rowheader   â”‚ â”‚  gridcell   â”‚ â”‚  gridcell   â”‚      â”‚ â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åˆ¥ã®æ³¨æ„ç‚¹

#### React
- Grid ã®å®Ÿè£…ã‚’åŸºç›¤ã«ã€TreeView ã®éšå±¤ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯ã‚’çµ±åˆ
- `useMemo` ã§å¯è¦–è¡Œãƒªã‚¹ãƒˆã‚’åŠ¹ç‡çš„ã«è¨ˆç®—
- `useCallback` ã§ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ãƒ¡ãƒ¢åŒ–

#### Vue
- `defineOptions({ inheritAttrs: false })` ã®ä½¿ç”¨
- `computed` ã§å¯è¦–è¡Œãƒªã‚¹ãƒˆã‚’è¨ˆç®—
- `watch` ã§å±•é–‹çŠ¶æ…‹å¤‰æ›´æ™‚ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

#### Svelte
- Svelte 5 ã® runes (`$state`, `$derived`, `$effect`)
- `$derived` ã§å¯è¦–è¡Œãƒªã‚¹ãƒˆã‚’è¨ˆç®—
- action ã‚’ä½¿ã£ãŸã‚»ãƒ«å‚ç…§ã®ç™»éŒ²

#### Astro (Web Components)
- `<apg-treegrid>` ã‚«ã‚¹ã‚¿ãƒ è¦ç´ 
- `data-` å±æ€§ã§è¨­å®šå€¤ã‚’æ¸¡ã™
- Shadow DOM ãªã—ã§å®Ÿè£…ï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ç¶™æ‰¿ã®ãŸã‚ï¼‰

---

## 6. TDD ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### Phase 0: è¨­è¨ˆæº–å‚™ âœ…
- [x] APG ä»•æ§˜ã®èª¿æŸ»ãƒ»æ•´ç†
- [x] é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®å·®åˆ†æ˜è¨˜
- [ ] `src/patterns/treegrid/llm.md` ä½œæˆ

### Phase 1: ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆRED ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
- [ ] `TreeGrid.test.tsx` - React ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] `TreeGrid.test.vue.ts` - Vue ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] `TreeGrid.test.svelte.ts` - Svelte ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] `TreeGrid.test.astro.ts` - Astro ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] `e2e/treegrid.spec.ts` - E2E ãƒ†ã‚¹ãƒˆ
- [ ] llm.md ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¨ãƒ†ã‚¹ãƒˆã® 1:1 å¯¾å¿œç¢ºèª

### Phase 2: å®Ÿè£…ï¼ˆGREEN ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
- [ ] `TreeGrid.tsx` - React å®Ÿè£…
- [ ] `TreeGrid.vue` - Vue å®Ÿè£…
- [ ] `TreeGrid.svelte` - Svelte å®Ÿè£…
- [ ] `TreeGrid.astro` - Astro å®Ÿè£…
- [ ] `src/styles/patterns/treegrid.css` - CSS
- [ ] `src/styles/global.css` ã¸ã® CSS ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ 

### Phase 3: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- [ ] è¨ˆç”»-å®Ÿè£…-ãƒ†ã‚¹ãƒˆ ä¸‰ç‚¹ç…§åˆ
- [ ] å·®åˆ†é …ç›®ã®å€‹åˆ¥ç…§åˆ

### Phase 4: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆè‹±èªï¼‰
- [ ] `AccessibilityDocs.astro`
- [ ] `TestingDocs.astro`

### Phase 5: æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] `AccessibilityDocs.ja.astro`
- [ ] `TestingDocs.ja.astro`

### Phase 6: ãƒšãƒ¼ã‚¸ä½œæˆãƒ»çµ±åˆ
- [ ] è‹±èªãƒšãƒ¼ã‚¸ï¼ˆ4ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ + ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ï¼‰
- [ ] æ—¥æœ¬èªãƒšãƒ¼ã‚¸ï¼ˆ4ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰
- [ ] `patterns.ts` æ›´æ–°
- [ ] README æ›´æ–°
- [ ] æˆæœç‰©ç…§åˆãƒã‚§ãƒƒã‚¯

---

## 7. Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚¤ãƒ³ãƒˆ

### llm.md ãƒ¬ãƒ“ãƒ¥ãƒ¼
1. APG ä»•æ§˜ã¨ã®æ•´åˆæ€§
2. å¿…é ˆå±æ€§ã®æ¼ã‚Œ
3. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã®ç¶²ç¾…æ€§ï¼ˆç‰¹ã« Grid/TreeView ã¨ã®å·®åˆ†ï¼‰
4. ãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã®å¦¥å½“æ€§
5. è¨˜è¿°ã®æ˜ç¢ºã•

### ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
1. APG ä»•æ§˜ã®å…¨è¦ä»¶ãŒãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹
2. DAMP åŸå‰‡ã¸ã®æº–æ‹ 
3. Edge case ã®è€ƒæ…®
4. llm.md ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¨ã® 1:1 å¯¾å¿œ
5. **Grid/TreeView ã¨ã®å·®åˆ†é …ç›®ã«å¯¾å¿œã™ã‚‹ãƒ†ã‚¹ãƒˆã®æœ‰ç„¡**

### å®Ÿè£…ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
1. APG ä»•æ§˜ã¸ã®æº–æ‹ 
2. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®æ­£ç¢ºæ€§
3. ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ã®æ­£ç¢ºæ€§
4. **ArrowRight/Left ã®æ¡ä»¶åˆ†å²ãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹**
5. **Grid/TreeView ã‹ã‚‰ã®ã‚³ãƒ¼ãƒ‰ã®é©åˆ‡ãªçµ±åˆ**

---

## 8. ãƒªã‚¹ã‚¯ã¨æ³¨æ„ç‚¹

### æŠ€è¡“çš„ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| Grid ã¨ TreeView ã®ãƒ­ã‚¸ãƒƒã‚¯çµ±åˆã®è¤‡é›‘ã• | é«˜ | æ®µéšçš„ãªå®Ÿè£…ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã§ãƒ†ã‚¹ãƒˆ |
| ArrowRight/Left ã®æ¡ä»¶åˆ†å²ã®è¤‡é›‘ã• | ä¸­ | çŠ¶æ…‹é·ç§»å›³ã‚’ä½œæˆã€ãƒ†ã‚¹ãƒˆã§ç¶²ç¾… |
| å¯è¦–è¡Œè¨ˆç®—ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | ä¸­ | ãƒ¡ãƒ¢åŒ–ã€å¿…è¦ã«å¿œã˜ã¦ä»®æƒ³åŒ– |
| ğŸ”´ rowheader ä»¥å¤–ã§ã®å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿èª¤å®Ÿè£… | é«˜ | ãƒ†ã‚¹ãƒˆã§ rowheader/é rowheader ã‚’æ˜ç¢ºã«åˆ†é›¢ |

### å®Ÿè£…ä¸Šã®æ³¨æ„ç‚¹

- **CSS ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ¼ã‚Œ**: `src/styles/patterns/treegrid.css` ã‚’ä½œæˆã—ãŸã‚‰ã€å¿…ãš `src/styles/global.css` ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ 
- **éšå±¤ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ**: CSS ã§ `aria-level` ã«å¿œã˜ãŸ padding-left ã‚’è¨­å®š
- **ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†**: æŠ˜ã‚ŠãŸãŸã¿æ™‚ã«å­è¡Œã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚‹å ´åˆã€è¦ªè¡Œã«ç§»å‹•
- **aria-level ã®è¨ˆç®—**: ãƒãƒ¼ãƒ‰ã®æ·±ã•ã«å¿œã˜ã¦å‹•çš„ã«è¨­å®šï¼ˆ1-basedï¼‰
- ğŸ”´ **Enter ã‚­ãƒ¼ã®å½¹å‰²**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã®ã¿ã€‚å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯ ArrowRight/Leftï¼ˆrowheader ä¸Šï¼‰ã«é™å®š
- ğŸ”´ **é¸æŠãƒ¢ãƒ‡ãƒ«**: è¡Œé¸æŠï¼ˆaria-selected ã¯ row ã«ä»˜ä¸ï¼‰ã€‚ã‚»ãƒ«é¸æŠã§ã¯ãªã„
- ğŸ”´ **ä»®æƒ³åŒ–æ™‚ã® aria-rowindex**: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’å«ã‚ã‚‹å ´åˆã¯ 2 ã‹ã‚‰é–‹å§‹

### APG ä»•æ§˜ã®æ›–æ˜§ãªç‚¹

- **Tab ã‚­ãƒ¼ã®å‹•ä½œ**: ã‚»ãƒ«å†…ã«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒã‚ã‚‹å ´åˆã® Tab ã‚­ãƒ¼ã®æŒ™å‹•ã¯å®Ÿè£…è€…ã®é¸æŠã«ä¾å­˜
- **è¦ªè¡Œã®ã‚»ãƒ«ã‚¯ãƒªãƒƒã‚¯æ™‚**: å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã‹ã€è¡Œé¸æŠã‹ã€ä¸¡æ–¹ã‹ â†’ ğŸ”´ æœ¬å®Ÿè£…ã§ã¯å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¨è¡Œé¸æŠã‚’åˆ†é›¢ï¼ˆã‚¯ãƒªãƒƒã‚¯ã¯è¡Œé¸æŠã®ã¿ã€expander ã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰

### ğŸ”´ Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼æŒ‡æ‘˜äº‹é …ã¸ã®å¯¾å¿œ

| æŒ‡æ‘˜ | å¯¾å¿œ |
|------|------|
| Enter ã§å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã¯æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨è¡çª | Enter ã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã®ã¿ã«å¤‰æ›´ |
| aria-rowindex/aria-colindex ãŒæ¬ è½ | ä»®æƒ³åŒ–å¯¾å¿œã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ  |
| aria-selected ã®å¯¾è±¡ãŒæ›–æ˜§ | è¡Œé¸æŠã«çµ±ä¸€ï¼ˆrow ã«ä»˜ä¸ï¼‰ |
| â†’/â† ã®æ¡ä»¶ãŒæ›–æ˜§ | rowheader ä¸Šã®ã¿ãƒ„ãƒªãƒ¼æ“ä½œã‚’æ˜è¨˜ |
| Set<string> ã®ãƒªã‚¹ã‚¯ | string[] ã«å¤‰æ›´ |

---

## 9. æˆæœç‰©ä¸€è¦§

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `src/patterns/treegrid/TreeGrid.tsx`
- `src/patterns/treegrid/TreeGrid.vue`
- `src/patterns/treegrid/TreeGrid.svelte`
- `src/patterns/treegrid/TreeGrid.astro`
- `src/patterns/treegrid/TreeGridDemo.tsx`
- `src/patterns/treegrid/TreeGridDemo.vue`
- `src/patterns/treegrid/TreeGridDemo.svelte`

### ãƒ†ã‚¹ãƒˆ
- `src/patterns/treegrid/TreeGrid.test.tsx`
- `src/patterns/treegrid/TreeGrid.test.vue.ts`
- `src/patterns/treegrid/TreeGrid.test.svelte.ts`
- `src/patterns/treegrid/TreeGrid.test.astro.ts`
- `e2e/treegrid.spec.ts`

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `src/patterns/treegrid/llm.md`
- `src/patterns/treegrid/AccessibilityDocs.astro`
- `src/patterns/treegrid/AccessibilityDocs.ja.astro`
- `src/patterns/treegrid/TestingDocs.astro`
- `src/patterns/treegrid/TestingDocs.ja.astro`

### CSS
- `src/styles/patterns/treegrid.css`

### ãƒšãƒ¼ã‚¸ï¼ˆè‹±èªï¼‰
- `src/pages/patterns/treegrid/index.astro`
- `src/pages/patterns/treegrid/react/index.astro`
- `src/pages/patterns/treegrid/vue/index.astro`
- `src/pages/patterns/treegrid/svelte/index.astro`
- `src/pages/patterns/treegrid/astro/index.astro`
- `src/pages/patterns/treegrid/react/demo/index.astro`
- `src/pages/patterns/treegrid/vue/demo/index.astro`
- `src/pages/patterns/treegrid/svelte/demo/index.astro`
- `src/pages/patterns/treegrid/astro/demo/index.astro`

### ãƒšãƒ¼ã‚¸ï¼ˆæ—¥æœ¬èªï¼‰
- `src/pages/ja/patterns/treegrid/react/index.astro`
- `src/pages/ja/patterns/treegrid/vue/index.astro`
- `src/pages/ja/patterns/treegrid/svelte/index.astro`
- `src/pages/ja/patterns/treegrid/astro/index.astro`

---

## 10. æ¤œè¨¼æ–¹æ³•

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
```bash
npm run test:react -- TreeGrid
npm run test:vue -- TreeGrid
npm run test:svelte -- TreeGrid
npm run test:astro -- TreeGrid
```

### E2E ãƒ†ã‚¹ãƒˆ
```bash
npm run test:e2e -- treegrid
```

### ãƒ“ãƒ«ãƒ‰ç¢ºèª
```bash
npm run build
npm run lint
```

### ãƒ–ãƒ©ã‚¦ã‚¶ç¢ºèª
```bash
npm run dev
# http://localhost:4321/patterns/treegrid/react/
```
