---
/**
 * FrameworkTabs - Framework selector tabs for pattern pages
 *
 * A shared component for switching between framework implementations.
 * Uses static links (no JavaScript required).
 */
import { FRAMEWORKS, FRAMEWORK_INFO, type Framework } from '@/lib/frameworks';
import { withBase } from '@/lib/utils';
import FrameworkIcon from '@/components/ui/FrameworkIcon.astro';

interface Props {
  /** The pattern name (e.g., 'button', 'tabs') */
  pattern: string;
  /** The currently active framework */
  currentFramework: Framework;
}

const { pattern, currentFramework } = Astro.props;
---

<div class="border-border mb-8 flex gap-2 border-b" role="tablist">
  {
    FRAMEWORKS.map((fw) => {
      const info = FRAMEWORK_INFO[fw];
      const isActive = fw === currentFramework;
      const href = withBase(`/patterns/${pattern}/${fw}/`);

      return (
        <a
          href={href}
          class:list={[
            'inline-flex items-center gap-2 border-b-2 px-4 py-2 transition-colors',
            isActive
              ? 'font-medium'
              : 'text-muted-foreground hover:text-foreground border-transparent',
          ]}
          style={
            isActive ? `border-color: ${info.color}; color: ${info.colorForeground};` : undefined
          }
          aria-current={isActive ? 'page' : undefined}
          role="tab"
          aria-selected={isActive ? 'true' : 'false'}
        >
          <FrameworkIcon framework={fw} class="h-4 w-4" />
          {info.label}
        </a>
      );
    })
  }
</div>
