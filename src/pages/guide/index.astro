---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { Tile, TileContent, TileTitle, TileDescription } from '@/components/ui/tile';
import { withBase } from '@/lib/utils';
---

<BaseLayout title="Guide">
  <div class="mx-auto max-w-3xl">
    <header class="mb-8">
      <h1 class="mb-4 text-3xl font-bold">Guide</h1>
      <p class="text-muted-foreground text-lg">
        How to use APG Patterns Examples for building accessible components.
      </p>
    </header>

    <section class="mb-12">
      <h2 class="mb-4 text-2xl font-semibold">Using with AI Code Assistants</h2>
      <p class="text-muted-foreground mb-4">
        Each pattern includes an AI-friendly definition file (<code
          class="bg-muted rounded px-1.5 py-0.5 text-sm">llm.md</code
        >) that can be used as context when implementing similar components with AI coding
        assistants like Claude, Cursor, or GitHub Copilot.
      </p>

      <h3 class="mt-6 mb-3 text-xl font-medium">What's included in llm.md</h3>
      <ul class="text-muted-foreground mb-6 list-inside list-disc space-y-2">
        <li>ARIA roles, properties, and states requirements</li>
        <li>Keyboard interaction specifications</li>
        <li>Focus management rules</li>
        <li>Test checklist for verification</li>
        <li>Example test code snippets</li>
      </ul>

      <h3 class="mt-6 mb-3 text-xl font-medium">How to use</h3>

      <div class="space-y-6">
        <div class="border-border rounded-lg border p-4">
          <h4 class="mb-2 font-medium">1. Copy & paste into prompt</h4>
          <p class="text-muted-foreground mb-3 text-sm">
            Copy the content and include it in your prompt when asking AI to implement a component.
          </p>
          <div class="bg-muted rounded-md p-3">
            <pre
              class="overflow-x-auto text-sm"><code>Implement a Tabs component in Angular following this specification:

[paste llm.md content here]</code></pre>
          </div>
        </div>

        <div class="border-border rounded-lg border p-4">
          <h4 class="mb-2 font-medium">2. Add to project context</h4>
          <p class="text-muted-foreground mb-3 text-sm">
            For Claude Code or Cursor, place definition files in your project for automatic context.
          </p>
          <div class="bg-muted rounded-md p-3">
            <pre
              class="overflow-x-auto text-sm"><code>my-project/
├── .ai/
│   └── apg-patterns/
│       ├── tabs.md
│       ├── dialog.md
│       └── accordion.md
└── src/</code></pre>
          </div>
        </div>

        <div class="border-border rounded-lg border p-4">
          <h4 class="mb-2 font-medium">3. Use for test generation</h4>
          <p class="text-muted-foreground mb-3 text-sm">
            The test checklist helps AI generate comprehensive accessibility tests.
          </p>
          <div class="bg-muted rounded-md p-3">
            <pre
              class="overflow-x-auto text-sm"><code>Generate Jest tests for my Tabs component based on this checklist:

## Test Checklist
- [ ] ArrowRight moves to next tab
- [ ] Selected tab has aria-selected="true"
- [ ] Only selected tab has tabIndex="0"</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="mb-4 text-2xl font-semibold">Available Patterns</h2>
      <p class="text-muted-foreground mb-4">
        The following patterns have AI-friendly definition files:
      </p>
      <div class="grid gap-4 md:grid-cols-2">
        <Tile variant="floating" href={withBase('/patterns/accordion/react/')}>
          <TileContent>
            <TileTitle>Accordion</TileTitle>
            <TileDescription>
              Vertically stacked headings that reveal content sections.
            </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/alert/react/')}>
          <TileContent>
            <TileTitle>Alert</TileTitle>
            <TileDescription> Live region for important, time-sensitive messages. </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/breadcrumb/react/')}>
          <TileContent>
            <TileTitle>Breadcrumb</TileTitle>
            <TileDescription>
              Navigation trail showing page location in hierarchy.
            </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/button/react/')}>
          <TileContent>
            <TileTitle>Toggle Button</TileTitle>
            <TileDescription>
              Two-state button with aria-pressed for toggle actions.
            </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/dialog/react/')}>
          <TileContent>
            <TileTitle>Dialog</TileTitle>
            <TileDescription> Modal window with focus trap and keyboard support. </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/disclosure/react/')}>
          <TileContent>
            <TileTitle>Disclosure</TileTitle>
            <TileDescription> Simple show/hide toggle for content visibility. </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/listbox/react/')}>
          <TileContent>
            <TileTitle>Listbox</TileTitle>
            <TileDescription>
              Selection widget with single and multi-select modes.
            </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/switch/react/')}>
          <TileContent>
            <TileTitle>Switch</TileTitle>
            <TileDescription> On/off toggle with aria-checked state. </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/tabs/react/')}>
          <TileContent>
            <TileTitle>Tabs</TileTitle>
            <TileDescription> Layered content sections with roving tabindex. </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/toolbar/react/')}>
          <TileContent>
            <TileTitle>Toolbar</TileTitle>
            <TileDescription>
              Container for grouped controls with arrow key navigation.
            </TileDescription>
          </TileContent>
        </Tile>
        <Tile variant="floating" href={withBase('/patterns/tooltip/react/')}>
          <TileContent>
            <TileTitle>Tooltip</TileTitle>
            <TileDescription> Contextual popup for element descriptions. </TileDescription>
          </TileContent>
        </Tile>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="mb-4 text-2xl font-semibold">File Locations</h2>
      <p class="text-muted-foreground mb-4">
        AI definition files are located alongside each pattern's implementation:
      </p>
      <div class="bg-muted rounded-md p-4">
        <pre
          class="overflow-x-auto text-sm"><code>src/patterns/
├── tabs/
│   ├── llm.md          ← AI-friendly definition
│   ├── Tabs.tsx
│   ├── Tabs.test.tsx
│   └── AccessibilityDocs.astro
├── dialog/
│   ├── llm.md
│   └── ...</code></pre>
      </div>
    </section>

    <section>
      <h2 class="mb-4 text-2xl font-semibold">Contributing</h2>
      <p class="text-muted-foreground">
        Help us add more AI-friendly definitions! Visit our
        <a
          href="https://github.com/masuP9/apg-patterns-examples"
          target="_blank"
          rel="noopener noreferrer"
          class="text-primary hover:underline"
        >
          GitHub repository
        </a> to contribute.
      </p>
    </section>
  </div>
</BaseLayout>
