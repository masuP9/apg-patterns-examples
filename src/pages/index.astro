---
import BaseLayout from '../layouts/BaseLayout.astro';
import { Tile, TileContent, TileTitle, TileDescription } from '@/components/ui/tile';
import { withBase } from '@/lib/utils';
import { getAvailablePatterns } from '@/lib/patterns';

const availablePatterns = getAvailablePatterns();
---

<BaseLayout title="Home">
  <div class="text-center">
    <h1 class="mb-4 text-4xl font-bold">APG Patterns Examples</h1>
    <p class="text-muted-foreground mb-8 text-lg">
      Accessible component patterns for React, Vue, Svelte, and Astro
    </p>

    <div class="grid gap-6 md:grid-cols-3">
      <Tile variant="floating" href={withBase('/patterns/')}>
        <TileContent>
          <div class="mb-3 flex items-center gap-2">
            <span class="text-3xl">üìö</span>
            <TileTitle>Patterns</TileTitle>
          </div>

          <TileDescription class="mb-4">
            {availablePatterns.length} production-ready accessible components
          </TileDescription>

          <div class="bg-muted/50 space-y-2 rounded-md p-3 text-sm">
            <div class="font-medium">Available now:</div>
            <div class="text-muted-foreground">
              Button, Tabs, Dialog, Accordion, Alert, Breadcrumb, and more...
            </div>
          </div>

          <div class="text-muted-foreground mt-3 text-xs">
            React ‚Ä¢ Vue ‚Ä¢ Svelte ‚Ä¢ Astro
          </div>
        </TileContent>
      </Tile>

      <Tile variant="floating" href={withBase('/guide/')}>
        <TileContent>
          <div class="mb-3 flex items-center gap-2">
            <span class="text-3xl">üìñ</span>
            <TileTitle>Guide</TileTitle>
          </div>

          <TileDescription class="mb-4">
            Implementation guides and best practices
          </TileDescription>

          <div class="space-y-2 text-sm">
            <div class="flex items-start gap-2">
              <span class="text-primary">‚Üí</span>
              <span>Getting Started</span>
            </div>
            <div class="flex items-start gap-2">
              <span class="text-primary">‚Üí</span>
              <span>Accessibility Testing</span>
            </div>
            <div class="flex items-start gap-2">
              <span class="text-primary">‚Üí</span>
              <span>Framework Integration</span>
            </div>
          </div>
        </TileContent>
      </Tile>

      <Tile variant="floating" href={withBase('/about/')}>
        <TileContent>
          <div class="mb-3 flex items-center gap-2">
            <span class="text-3xl">‚ÑπÔ∏è</span>
            <TileTitle>About</TileTitle>
          </div>

          <TileDescription class="mb-4">
            Open-source project for accessible web components
          </TileDescription>

          <ul class="text-muted-foreground space-y-2 text-sm">
            <li>‚úì WAI-ARIA APG compliant</li>
            <li>‚úì Production-ready code</li>
            <li>‚úì Bilingual (EN/JA)</li>
            <li>‚úì MIT Licensed</li>
          </ul>
        </TileContent>
      </Tile>
    </div>

    <section class="mt-16">
      <h2 class="mb-6 text-2xl font-bold">Available Patterns</h2>
      <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
        {
          availablePatterns.map((pattern) => (
            <Tile variant="floating" href={withBase(`/patterns/${pattern.id}/`)}>
              <TileContent class="flex flex-row items-center gap-4 text-left">
                <div class="bg-muted flex h-12 w-12 shrink-0 items-center justify-center rounded-full text-2xl">
                  {pattern.icon}
                </div>
                <div>
                  <TileTitle class="mb-2">{pattern.name}</TileTitle>
                  <TileDescription>{pattern.description}</TileDescription>
                </div>
              </TileContent>
            </Tile>
          ))
        }
      </div>
    </section>
  </div>
</BaseLayout>
