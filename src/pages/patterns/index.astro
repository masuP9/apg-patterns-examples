---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { Tile, TileContent, TileTitle, TileDescription } from '@/components/ui/tile';

const patterns = [
  {
    name: 'Toggle Button',
    description: 'A two-state button that can be either "pressed" or "not pressed".',
    href: '/patterns/button/react/',
    icon: 'ðŸ”˜',
    complexity: 'Low',
    status: 'Available',
  },
  {
    name: 'Tabs',
    description: 'A set of layered sections of content, known as tab panels, that display one panel at a time.',
    href: '/patterns/tabs/react/',
    icon: 'ðŸ“‘',
    complexity: 'Medium',
    status: 'Available',
  },
  {
    name: 'Accordion',
    description: 'A vertically stacked set of interactive headings that each reveal a section of content.',
    href: '/patterns/accordion/react/',
    icon: 'ðŸ“‹',
    complexity: 'Medium',
    status: 'Available',
  },
  {
    name: 'Dialog (Modal)',
    description: 'A window overlaid on the primary window, rendering the content underneath inert.',
    href: '#',
    icon: 'ðŸ’¬',
    complexity: 'High',
    status: 'Planned',
  },
  {
    name: 'Menu Button',
    description: 'A button that opens a menu of actions or options.',
    href: '#',
    icon: 'â˜°',
    complexity: 'High',
    status: 'Planned',
  },
  {
    name: 'Disclosure',
    description: 'A button that controls the visibility of a section of content.',
    href: '#',
    icon: 'â–¼',
    complexity: 'Low',
    status: 'Planned',
  },
];
---

<BaseLayout title="Patterns">
  <div class="max-w-4xl mx-auto">
    <header class="mb-8">
      <h1 class="text-3xl font-bold mb-4">APG Patterns</h1>
      <p class="text-lg text-muted-foreground">
        Accessible component patterns based on WAI-ARIA Authoring Practices Guide.
        Each pattern is implemented in React, Vue, Svelte, and Astro.
      </p>
    </header>

    <div class="grid gap-4 md:grid-cols-2">
      {patterns.map((pattern) => (
        <Tile
          variant="floating"
          href={pattern.status === 'Available' ? pattern.href : undefined}
          class:list={[
            pattern.status !== 'Available' && 'opacity-60 cursor-not-allowed'
          ]}
        >
          <TileContent class="flex flex-row items-start gap-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-full bg-muted text-2xl shrink-0">
              {pattern.icon}
            </div>
            <div class="flex-1">
              <div class="flex items-center gap-2 mb-1">
                <TileTitle>{pattern.name}</TileTitle>
                {pattern.status !== 'Available' && (
                  <span class="text-xs px-2 py-0.5 rounded-full bg-muted text-muted-foreground">
                    {pattern.status}
                  </span>
                )}
              </div>
              <TileDescription>{pattern.description}</TileDescription>
              <div class="flex items-center gap-4 text-xs text-muted-foreground mt-2">
                <span>Complexity: {pattern.complexity}</span>
              </div>
            </div>
          </TileContent>
        </Tile>
      ))}
    </div>

    <Tile variant="floating" class="mt-12 bg-muted/50">
      <TileContent>
        <TileTitle class="text-xl">About These Patterns</TileTitle>
        <TileDescription class="mb-4">
          Each pattern follows the <a href="https://www.w3.org/WAI/ARIA/apg/" target="_blank" rel="noopener noreferrer" class="text-primary hover:underline">WAI-ARIA Authoring Practices Guide (APG)</a> specifications to ensure proper accessibility support.
        </TileDescription>
        <ul class="list-disc pl-6 space-y-2 text-muted-foreground">
          <li>Proper ARIA roles and attributes</li>
          <li>Full keyboard navigation support</li>
          <li>Screen reader compatibility</li>
          <li>High contrast mode support</li>
          <li>Reduced motion preferences</li>
        </ul>
      </TileContent>
    </Tile>
  </div>
</BaseLayout>
