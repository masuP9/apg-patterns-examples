---
import ExternalLink from '@/components/ui/ExternalLink.astro';
import { ResponsiveTable } from '@/components/ui/table';
---

<div class="prose dark:prose-invert max-w-none">
  <h3 class="mb-3 text-lg font-medium">Data Grid を使用するタイミング</h3>
  <p class="text-muted-foreground mb-4">
    Data Grid は基本的な <code>grid</code> ロールをスプレッドシートのような機能で拡張します。以下の機能が必要な場合に使用します:
  </p>
  <ul class="text-muted-foreground mb-6 list-inside list-disc space-y-2">
    <li><strong>ソート:</strong> クリック/キーボードでデータをソートする列ヘッダー</li>
    <li><strong>行選択:</strong> チェックボックスによる行単位の選択</li>
    <li><strong>範囲選択:</strong> Shift+矢印キーで複数セルを選択</li>
    <li><strong>セル編集:</strong> Enter/F2で編集開始、Escapeでキャンセル</li>
  </ul>
  <p class="text-muted-foreground mb-6">
    単純な静的テーブルには、ネイティブの <code>&lt;table&gt;</code> 要素を使用してください。 これらの機能が不要なインタラクティブグリッドには、基本的な
    <code>grid</code> パターンを使用してください。
  </p>

  <h3 class="mb-3 text-lg font-medium">WAI-ARIA ロール</h3>
  <ResponsiveTable class="mb-6">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">ロール</th>
          <th class="py-2 pr-4 text-left">対象要素</th>
          <th class="py-2 text-left">説明</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>grid</code></td>
          <td class="py-2 pr-4">コンテナ</td>
          <td class="py-2">グリッドコンテナ（複合ウィジェット）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>row</code></td>
          <td class="py-2 pr-4">行コンテナ</td>
          <td class="py-2">セルを水平方向にグループ化</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>columnheader</code></td>
          <td class="py-2 pr-4">ヘッダーセル</td>
          <td class="py-2">列ヘッダー（ソート可能時はフォーカス可能）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>rowheader</code></td>
          <td class="py-2 pr-4">行ヘッダーセル</td>
          <td class="py-2">行ヘッダー（オプション）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>gridcell</code></td>
          <td class="py-2 pr-4">データセル</td>
          <td class="py-2">インタラクティブセル（フォーカス可能、編集可能な場合あり）</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>
  <p class="text-muted-foreground mb-6 text-sm">
    <ExternalLink
      href="https://www.w3.org/WAI/ARIA/apg/patterns/grid/examples/data-grids/"
      class="text-primary hover:underline"
    >
      APG Data Grids Examples
    </ExternalLink>
  </p>

  <h3 class="mb-3 text-lg font-medium">WAI-ARIA プロパティ（グリッドコンテナ）</h3>
  <ResponsiveTable class="mb-6">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">属性</th>
          <th class="py-2 pr-4 text-left">値</th>
          <th class="py-2 pr-4 text-left">必須</th>
          <th class="py-2 text-left">説明</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>role="grid"</code></td>
          <td class="py-2 pr-4">-</td>
          <td class="py-2 pr-4">はい</td>
          <td class="py-2">コンテナをグリッドとして識別</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-label</code></td>
          <td class="py-2 pr-4">文字列</td>
          <td class="py-2 pr-4">はい*</td>
          <td class="py-2">グリッドのアクセシブル名</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-labelledby</code></td>
          <td class="py-2 pr-4">ID参照</td>
          <td class="py-2 pr-4">はい*</td>
          <td class="py-2">aria-labelの代替</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-multiselectable</code></td>
          <td class="py-2 pr-4"><code>true</code></td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">行またはセルの複数選択が有効な場合に付与</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-readonly</code></td>
          <td class="py-2 pr-4"><code>true</code></td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">グリッド全体が読み取り専用の場合に付与</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-rowcount</code></td>
          <td class="py-2 pr-4">数値（1-based）</td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">仮想化用の総行数</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-colcount</code></td>
          <td class="py-2 pr-4">数値（1-based）</td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">仮想化用の総列数</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>
  <p class="text-muted-foreground mb-6 text-sm">
    * <code>aria-label</code> または <code>aria-labelledby</code> のいずれかが必須です。
  </p>

  <h3 class="mb-3 text-lg font-medium">WAI-ARIA ステート（列ヘッダー）</h3>
  <ResponsiveTable class="mb-6">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">属性</th>
          <th class="py-2 pr-4 text-left">値</th>
          <th class="py-2 pr-4 text-left">必須</th>
          <th class="py-2 text-left">説明</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-sort</code></td>
          <td class="py-2 pr-4"
            ><code>ascending</code> | <code>descending</code> | <code>none</code> | <code
              >other</code
            ></td
          >
          <td class="py-2 pr-4">はい*</td>
          <td class="py-2">現在のソート方向（ソート可能ヘッダーのみ）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>tabindex</code></td>
          <td class="py-2 pr-4"><code>0</code> | <code>-1</code></td>
          <td class="py-2 pr-4">はい*</td>
          <td class="py-2">Roving tabindex（ソート可能ヘッダーのみ）</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>
  <p class="text-muted-foreground mb-6 text-sm">* ソート可能な列ヘッダーにのみ必須です。</p>

  <h3 class="mb-3 text-lg font-medium">WAI-ARIA ステート（行）</h3>
  <ResponsiveTable class="mb-6">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">属性</th>
          <th class="py-2 pr-4 text-left">値</th>
          <th class="py-2 pr-4 text-left">必須</th>
          <th class="py-2 text-left">説明</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-selected</code></td>
          <td class="py-2 pr-4"><code>true</code> | <code>false</code></td>
          <td class="py-2 pr-4">はい*</td>
          <td class="py-2">行選択状態（rowSelectable時）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-disabled</code></td>
          <td class="py-2 pr-4"><code>true</code></td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">行が無効であることを示す</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-rowindex</code></td>
          <td class="py-2 pr-4">数値（1-based）</td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">仮想化用の行位置</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>
  <p class="text-muted-foreground mb-6 text-sm">* 行選択が有効な場合にのみ必須です。</p>

  <h3 class="mb-3 text-lg font-medium">WAI-ARIA ステート（グリッドセル）</h3>
  <ResponsiveTable class="mb-6">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">属性</th>
          <th class="py-2 pr-4 text-left">値</th>
          <th class="py-2 pr-4 text-left">必須</th>
          <th class="py-2 text-left">説明</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>tabindex</code></td>
          <td class="py-2 pr-4"><code>0</code> | <code>-1</code></td>
          <td class="py-2 pr-4">はい</td>
          <td class="py-2">フォーカス管理用のRoving tabindex</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-selected</code></td>
          <td class="py-2 pr-4"><code>true</code> | <code>false</code></td>
          <td class="py-2 pr-4">いいえ*</td>
          <td class="py-2">セル選択状態（セル選択可能時）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-readonly</code></td>
          <td class="py-2 pr-4"><code>true</code> | <code>false</code></td>
          <td class="py-2 pr-4">いいえ*</td>
          <td class="py-2">セルの編集可否（グリッドが編集可能時）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-disabled</code></td>
          <td class="py-2 pr-4"><code>true</code></td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">セルが無効であることを示す</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>aria-colindex</code></td>
          <td class="py-2 pr-4">数値（1-based）</td>
          <td class="py-2 pr-4">いいえ</td>
          <td class="py-2">仮想化用の列位置</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>
  <p class="text-muted-foreground mb-6 text-sm">
    * 選択/編集がサポートされる場合、すべてのgridcellに対応する属性が必要です。
  </p>

  <h3 class="mb-3 text-lg font-medium">キーボードサポート</h3>

  <h4 class="mb-2 font-medium">2Dナビゲーション</h4>
  <ResponsiveTable class="mb-4">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">キー</th>
          <th class="py-2 text-left">アクション</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">→</kbd></td
          >
          <td class="py-2">フォーカスを右のセルに移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">←</kbd></td
          >
          <td class="py-2">フォーカスを左のセルに移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">↓</kbd></td
          >
          <td class="py-2">フォーカスを下の行に移動（ヘッダーから最初のデータ行へ）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">↑</kbd></td
          >
          <td class="py-2">フォーカスを上の行に移動（最初の行からソート可能ヘッダーへ）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Home</kbd></td
          >
          <td class="py-2">フォーカスを行の最初のセルに移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">End</kbd></td
          >
          <td class="py-2">フォーカスを行の最後のセルに移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Ctrl</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Home</kbd
            ></td
          >
          <td class="py-2">フォーカスをグリッドの最初のセルに移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Ctrl</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">End</kbd
            ></td
          >
          <td class="py-2">フォーカスをグリッドの最後のセルに移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">PageDown</kbd></td
          >
          <td class="py-2">フォーカスをページサイズ分下に移動</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">PageUp</kbd></td
          >
          <td class="py-2">フォーカスをページサイズ分上に移動</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h4 class="mb-2 font-medium">ソート（列ヘッダー）</h4>
  <ResponsiveTable class="mb-4">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">キー</th>
          <th class="py-2 text-left">アクション</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Enter</kbd></td
          >
          <td class="py-2">ソート方向を切り替え（none → ascending → descending → ascending）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Space</kbd></td
          >
          <td class="py-2">ソート方向を切り替え</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h4 class="mb-2 font-medium">範囲選択</h4>
  <ResponsiveTable class="mb-4">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">キー</th>
          <th class="py-2 text-left">アクション</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">↓</kbd
            ></td
          >
          <td class="py-2">選択範囲を下に拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">↑</kbd
            ></td
          >
          <td class="py-2">選択範囲を上に拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">→</kbd
            ></td
          >
          <td class="py-2">選択範囲を右に拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">←</kbd
            ></td
          >
          <td class="py-2">選択範囲を左に拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Home</kbd
            ></td
          >
          <td class="py-2">選択範囲を行の先頭まで拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">End</kbd
            ></td
          >
          <td class="py-2">選択範囲を行の末尾まで拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Ctrl</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd
            > + <kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Home</kbd></td
          >
          <td class="py-2">選択範囲をグリッドの先頭まで拡張</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Ctrl</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Shift</kbd
            > + <kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">End</kbd></td
          >
          <td class="py-2">選択範囲をグリッドの末尾まで拡張</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h4 class="mb-2 font-medium">セル編集</h4>
  <ResponsiveTable class="mb-4">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">キー</th>
          <th class="py-2 text-left">アクション</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Enter</kbd></td
          >
          <td class="py-2">編集モードに入る（編集可能セル上）または編集を確定（編集モード中）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">F2</kbd></td
          >
          <td class="py-2">編集モードに入る</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Escape</kbd></td
          >
          <td class="py-2">編集をキャンセルして元の値を復元</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Tab</kbd></td
          >
          <td class="py-2">編集を確定（編集モード中）</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h4 class="mb-2 font-medium">選択とアクティベーション</h4>
  <ResponsiveTable class="mb-4">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">キー</th>
          <th class="py-2 text-left">アクション</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Space</kbd></td
          >
          <td class="py-2">フォーカス中のセルを選択/選択解除、または行チェックボックスを切り替え</td
          >
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">Ctrl</kbd> + <kbd
              class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">A</kbd
            ></td
          >
          <td class="py-2">すべてのセルを選択（複数選択可能時）</td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h3 class="mb-3 text-lg font-medium">フォーカス管理</h3>
  <p class="text-muted-foreground mb-4">
    このコンポーネントはフォーカス管理に <strong>roving tabindex</strong> を使用します:
  </p>
  <ul class="text-muted-foreground mb-4 list-inside list-disc space-y-2">
    <li>1つの要素のみが <code>tabindex="0"</code> を持つ（現在のフォーカス位置）</li>
    <li>その他のフォーカス可能な要素は <code>tabindex="-1"</code> を持つ</li>
    <li>グリッドは単一のTabストップ（Tabでグリッドに入り、Shift+Tabで出る）</li>
    <li>
      <strong>ソート可能な列ヘッダー</strong>はroving
      tabindexに参加（ソート不可ヘッダーはフォーカス不可）
    </li>
    <li>最初のデータ行からの↑は同じ列のソート可能ヘッダーに移動</li>
    <li>ヘッダーからの↓は同じ列の最初のデータ行に移動</li>
    <li>
      <strong>編集モード:</strong> フォーカスは入力フィールドに移動し、編集終了までグリッドナビゲーションは無効
    </li>
    <li>フォーカスメモリ: グリッドを離れて再入力した際、最後にフォーカスした要素が記憶される</li>
  </ul>

  <h3 class="mb-3 text-lg font-medium">行選択の動作</h3>
  <ul class="text-muted-foreground mb-4 list-inside list-disc space-y-2">
    <li>行選択チェックボックスは専用の列（gridcell）に配置</li>
    <li>各行チェックボックスにはアクセシブルなラベルがある（例: "Select row user1"）</li>
    <li>
      <code>rowMultiselectable</code> がtrueの場合、ヘッダーに「すべて選択」チェックボックスが表示
    </li>
    <li>
      すべて選択チェックボックスは、一部（すべてではない）の行が選択された場合に不定状態を表示
    </li>
    <li>行の選択状態は行要素の <code>aria-selected</code> で反映</li>
  </ul>

  <h3 class="mb-3 text-lg font-medium">編集モードの動作</h3>
  <ul class="text-muted-foreground mb-4 list-inside list-disc space-y-2">
    <li><code>editable: true</code> のセルのみが編集モードに入れる</li>
    <li><code>readonly: true</code> のセルは、editableでも編集不可</li>
    <li>グリッドレベルの <code>readonly</code> propはすべての編集を無効化</li>
    <li>セルの <code>aria-readonly</code> は編集可否をスクリーンリーダーに通知</li>
    <li>編集中、フォーカスはセル内の入力フィールドにある</li>
    <li>編集モード中、グリッドキーボードナビゲーション（矢印、Home、End）は抑制される</li>
    <li>編集終了時（Enter、Tab、blur）、フォーカスはセルに戻る</li>
    <li>キャンセル時（Escape）、元の値が復元される</li>
  </ul>
</div>
