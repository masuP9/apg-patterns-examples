---
import ExternalLink from '@/components/ui/ExternalLink.astro';
import { ResponsiveTable } from '@/components/ui/table';
---

<div class="prose dark:prose-invert max-w-none">
  <h3 class="mb-3 text-lg font-medium">WAI-ARIA ランドマークロール</h3>
  <p class="text-muted-foreground mb-4">
    ランドマークはページの主要なセクションを識別します。8つのランドマークロールがあり、支援技術ユーザーがページ構造を効率的にナビゲートできるようになります。
  </p>

  <ResponsiveTable class="mb-6">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">ロール</th>
          <th class="py-2 pr-4 text-left">HTML要素</th>
          <th class="py-2 pr-4 text-left">説明</th>
          <th class="py-2 text-left">制約</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>banner</code></td>
          <td class="py-2 pr-4"><code>&lt;header&gt;</code></td>
          <td class="py-2 pr-4">サイト全体のヘッダー</td>
          <td class="py-2">ページに1つ、トップレベルのみ</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>navigation</code></td>
          <td class="py-2 pr-4"><code>&lt;nav&gt;</code></td>
          <td class="py-2 pr-4">ナビゲーションリンク</td>
          <td class="py-2">複数可、2つ以上の場合はラベル必須</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>main</code></td>
          <td class="py-2 pr-4"><code>&lt;main&gt;</code></td>
          <td class="py-2 pr-4">主要コンテンツ</td>
          <td class="py-2">ページに1つ、トップレベルのみ</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>contentinfo</code></td>
          <td class="py-2 pr-4"><code>&lt;footer&gt;</code></td>
          <td class="py-2 pr-4">サイト全体のフッター</td>
          <td class="py-2">ページに1つ、トップレベルのみ</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>complementary</code></td>
          <td class="py-2 pr-4"><code>&lt;aside&gt;</code></td>
          <td class="py-2 pr-4">補完的コンテンツ</td>
          <td class="py-2">トップレベル推奨</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>region</code></td>
          <td class="py-2 pr-4"><code>&lt;section&gt;</code></td>
          <td class="py-2 pr-4">名前付きセクション</td>
          <td class="py-2"><b>aria-label/labelledby必須</b></td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>search</code></td>
          <td class="py-2 pr-4"><code>&lt;form role="search"&gt;</code></td>
          <td class="py-2 pr-4">検索機能</td>
          <td class="py-2">form要素と併用</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4"><code>form</code></td>
          <td class="py-2 pr-4"><code>&lt;form&gt;</code></td>
          <td class="py-2 pr-4">フォーム領域</td>
          <td class="py-2"><b>aria-label/labelledby必須</b></td>
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h3 class="mb-3 text-lg font-medium">WAI-ARIA プロパティ</h3>

  <div class="mb-6">
    <h4 class="mb-2 font-medium"><code>aria-label</code> / <code>aria-labelledby</code></h4>
    <p class="text-muted-foreground mb-3">
      ランドマークにアクセシブルな名前を提供します。同じ種類のランドマークが複数存在する場合、または<code
        >region</code
      >と<code>form</code>ランドマークには必須です。
    </p>
    <ResponsiveTable class="mb-2">
      <table class="w-full border-collapse">
        <tbody>
          <tr class="border-border border-b">
            <td class="w-32 py-2 pr-4 font-medium">値</td>
            <td class="py-2">文字列（aria-label）またはID参照（aria-labelledby）</td>
          </tr>
          <tr class="border-border border-b">
            <td class="py-2 pr-4 font-medium">必須条件</td>
            <td class="py-2">
              <ul class="mb-0 list-disc pl-4">
                <li>同じ種類のランドマークが複数ある場合</li>
                <li><code>region</code>ランドマーク（常に）</li>
                <li><code>form</code>ランドマーク（常に）</li>
              </ul>
            </td>
          </tr>
          <tr class="border-border border-b">
            <td class="py-2 pr-4 font-medium">例</td>
            <td class="py-2">
              <code>&lt;nav aria-label="メイン"&gt;</code> または
              <code>&lt;section aria-labelledby="heading-id"&gt;</code>
            </td>
          </tr>
        </tbody>
      </table>
    </ResponsiveTable>
  </div>

  <h3 class="mb-3 text-lg font-medium">キーボードサポート</h3>
  <p class="text-muted-foreground mb-4">
    <strong>ランドマークにはキーボード操作は不要です。</strong
    >ランドマークは構造要素であり、インタラクティブなウィジェットではありません。スクリーンリーダーは組み込みのランドマークナビゲーションを提供します：
  </p>
  <ResponsiveTable class="mb-4">
    <table class="w-full border-collapse">
      <thead>
        <tr class="border-border border-b">
          <th class="py-2 pr-4 text-left">スクリーンリーダー</th>
          <th class="py-2 text-left">ナビゲーション方法</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-border border-b">
          <td class="py-2 pr-4">NVDA</td>
          <td class="py-2"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">D</kbd>キー</td
          >
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4">VoiceOver</td>
          <td class="py-2">ローター（Webナビゲーション）</td>
        </tr>
        <tr class="border-border border-b">
          <td class="py-2 pr-4">JAWS</td>
          <td class="py-2"
            ><kbd class="rounded bg-gray-100 px-2 py-1 dark:bg-gray-800">R</kbd
            >キーまたはセミコロン</td
          >
        </tr>
      </tbody>
    </table>
  </ResponsiveTable>

  <h3 class="mb-3 text-lg font-medium">ベストプラクティス</h3>
  <ul class="mb-6 list-disc space-y-2 pl-6">
    <li>
      <strong>セマンティックHTML要素を使用</strong> - ARIAロールよりも<code>&lt;header&gt;</code
      >、<code>&lt;nav&gt;</code>、<code>&lt;main&gt;</code>などを優先
    </li>
    <li>
      <strong>複数のランドマークにラベルを付ける</strong> - 複数の<code>&lt;nav&gt;</code>や<code
        >&lt;aside&gt;</code
      >がある場合、それぞれに一意のアクセシブルな名前を付ける
    </li>
    <li>
      <strong>ランドマークの数を制限</strong> - ランドマークが多すぎる（約7以上）と支援技術ユーザーにとって煩わしくなる
    </li>
    <li>
      <strong>すべてのコンテンツをランドマーク内に配置</strong> - ランドマーク外のコンテンツは、ランドマークでナビゲートするユーザーに見落とされる可能性がある
    </li>
    <li>
      <strong>トップレベルに配置</strong> - <code>&lt;header&gt;</code>と<code>&lt;footer&gt;</code
      >は<code>&lt;body&gt;</code>の直接の子の場合にのみ<code>banner</code>/<code>contentinfo</code
      >にマップされる
    </li>
  </ul>

  <h3 class="mb-3 text-lg font-medium">参考資料</h3>
  <ul class="list-disc space-y-2 pl-6">
    <li>
      <ExternalLink
        href="https://www.w3.org/WAI/ARIA/apg/patterns/landmarks/"
        class="text-primary hover:underline"
      >
        WAI-ARIA APG: ランドマークパターン
      </ExternalLink>
    </li>
    <li>
      <ExternalLink
        href="https://www.w3.org/WAI/ARIA/apg/practices/landmark-regions/"
        class="text-primary hover:underline"
      >
        WAI-ARIA APG: ランドマーク領域
      </ExternalLink>
    </li>
    <li>
      <ExternalLink
        href="https://w3c.github.io/aria/#landmark"
        class="text-primary hover:underline"
      >
        W3C ARIA: ランドマークロール
      </ExternalLink>
    </li>
    <li>
      <ExternalLink
        href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/landmark_role"
        class="text-primary hover:underline"
      >
        MDN: ARIA ランドマークロール
      </ExternalLink>
    </li>
  </ul>
</div>
