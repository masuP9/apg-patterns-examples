import{R as H,r as p,j as o}from"./iframe-Bx5l1z1Y.js";import"./preload-helper-C1FmrZbK.js";function K(i){var s,r,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var b=i.length;for(s=0;s<b;s++)i[s]&&(r=K(i[s]))&&(a&&(a+=" "),a+=r)}else for(r in i)i[r]&&(a&&(a+=" "),a+=r);return a}function y(){for(var i,s,r=0,a="",b=arguments.length;r<b;r++)(i=arguments[r])&&(s=K(i))&&(a&&(a+=" "),a+=s);return a}const M=H.memo(function({tabs:s,defaultSelectedId:r,orientation:a="horizontal",activation:b="automatic",deletable:z=!1,onSelectionChange:h,onTabDelete:f,className:U}){var R;const A=r?s.find(e=>e.id===r&&!e.disabled):s.find(e=>!e.disabled),[g,W]=p.useState((A==null?void 0:A.id)||((R=s[0])==null?void 0:R.id)),[c,N]=p.useState(0),k=p.useRef(null),S=p.useRef({}),v=p.useId(),n=s.filter(e=>!e.disabled),I=p.useCallback(e=>{W(e),h==null||h(e)},[h]),q=p.useCallback(e=>{var d;N(e);const t=n[e];t&&S.current[t.id]&&((d=S.current[t.id])==null||d.focus())},[n]),G=p.useCallback(e=>{const{key:t}=e,d=e.target;if(!k.current||!(d instanceof Node)||!k.current.contains(d))return;let u=c,l=!1;switch(t){case"ArrowRight":case"ArrowDown":u=(c+1)%n.length,l=!0;break;case"ArrowLeft":case"ArrowUp":u=(c-1+n.length)%n.length,l=!0;break;case"Home":u=0,l=!0;break;case"End":u=n.length-1,l=!0;break;case"Enter":case" ":if(b==="manual"){const m=n[c];m&&I(m.id)}l=!0;break;case"Delete":if(z){const m=n[c];m&&(f==null||f(m.id))}l=!0;break}if(l&&(e.preventDefault(),u!==c&&(q(u),b==="automatic"))){const m=n[u];m&&I(m.id)}},[c,n,a,b,z,I,q,f]);return p.useEffect(()=>{const e=n.findIndex(t=>t.id===g);e>=0&&N(e)},[g,n]),o.jsxs("div",{className:y("apg-tabs",{"apg-tabs--horizontal":a==="horizontal","apg-tabs--vertical":a==="vertical"},U),children:[o.jsx("div",{ref:k,role:"tablist","aria-orientation":a,className:y("apg-tablist",{"apg-tablist--horizontal":a==="horizontal","apg-tablist--vertical":a==="vertical"}),onKeyDown:G,children:s.map(e=>{const t=e.id===g,d=e.disabled?-1:t?0:-1,u=`${v}-panel-${e.id}`;return o.jsxs("button",{ref:l=>{S.current[e.id]=l},role:"tab",type:"button",id:`${v}-tab-${e.id}`,"aria-selected":t,"aria-controls":t?u:void 0,tabIndex:d,disabled:e.disabled,className:y("apg-tab",{"apg-tab--horizontal":a==="horizontal","apg-tab--vertical":a==="vertical","apg-tab--selected":t,"apg-tab--disabled":e.disabled}),onClick:()=>!e.disabled&&I(e.id),children:[o.jsx("span",{className:"apg-tab-label",children:e.label}),z&&!e.disabled&&o.jsx("button",{type:"button",className:"apg-tab-delete","aria-label":`Delete ${e.label} tab`,onClick:l=>{l.stopPropagation(),f==null||f(e.id)},children:"Ã—"})]},e.id)})}),o.jsx("div",{className:"apg-tabpanels",children:s.map(e=>{const t=e.id===g,d=`${v}-panel-${e.id}`;return o.jsx("div",{role:"tabpanel",id:d,"aria-labelledby":`${v}-tab-${e.id}`,hidden:!t,className:y("apg-tabpanel",{"apg-tabpanel--active":t,"apg-tabpanel--inactive":!t}),tabIndex:t?0:-1,children:e.content},e.id)})})]})});M.__docgenInfo={description:"",methods:[],displayName:"Tabs",props:{tabs:{required:!0,tsType:{name:"Array",elements:[{name:"TabItem"}],raw:"TabItem[]"},description:"Array of tab items"},defaultSelectedId:{required:!1,tsType:{name:"string"},description:"Initially selected tab ID"},orientation:{required:!1,tsType:{name:"union",raw:'"horizontal" | "vertical"',elements:[{name:"literal",value:'"horizontal"'},{name:"literal",value:'"vertical"'}]},description:"Orientation of the tabs",defaultValue:{value:'"horizontal"',computed:!1}},activation:{required:!1,tsType:{name:"union",raw:'"automatic" | "manual"',elements:[{name:"literal",value:'"automatic"'},{name:"literal",value:'"manual"'}]},description:"Activation mode",defaultValue:{value:'"automatic"',computed:!1}},deletable:{required:!1,tsType:{name:"boolean"},description:"Whether tabs can be deleted",defaultValue:{value:"false",computed:!1}},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tabId: string) => void",signature:{arguments:[{type:{name:"string"},name:"tabId"}],return:{name:"void"}}},description:"Callback when tab selection changes"},onTabDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(tabId: string) => void",signature:{arguments:[{type:{name:"string"},name:"tabId"}],return:{name:"void"}}},description:"Callback when tab is deleted"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS class"}}};const J={title:"APG/Tabs",component:M,tags:["autodocs"],argTypes:{orientation:{control:"select",options:["horizontal","vertical"],description:"Orientation of the tabs"},activation:{control:"select",options:["automatic","manual"],description:"Activation mode - automatic activates on focus, manual requires enter/space"},defaultSelectedId:{control:"text",description:"ID of the initially selected tab"}}},j=[{id:"tab1",label:"First Tab",content:o.jsx("div",{children:"This is the content for the first tab. It demonstrates the basic tab functionality."})},{id:"tab2",label:"Second Tab",content:o.jsx("div",{children:"This is the content for the second tab. Users can navigate using arrow keys."})},{id:"tab3",label:"Third Tab",content:o.jsx("div",{children:"This is the content for the third tab. The component follows WAI-ARIA guidelines."})}],x={args:{tabs:j,defaultSelectedId:"tab1",orientation:"horizontal",activation:"automatic"}},T={args:{tabs:j.slice(0,2),defaultSelectedId:"tab1",orientation:"vertical",activation:"automatic"}},w={args:{tabs:j,defaultSelectedId:"tab1",orientation:"horizontal",activation:"manual"}};var $,E,P;x.parameters={...x.parameters,docs:{...($=x.parameters)==null?void 0:$.docs,source:{originalSource:`{
  args: {
    tabs: sampleTabs,
    defaultSelectedId: "tab1",
    orientation: "horizontal",
    activation: "automatic"
  }
}`,...(P=(E=x.parameters)==null?void 0:E.docs)==null?void 0:P.source}}};var V,C,_;T.parameters={...T.parameters,docs:{...(V=T.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    tabs: sampleTabs.slice(0, 2),
    defaultSelectedId: "tab1",
    orientation: "vertical",
    activation: "automatic"
  }
}`,...(_=(C=T.parameters)==null?void 0:C.docs)==null?void 0:_.source}}};var F,O,D;w.parameters={...w.parameters,docs:{...(F=w.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    tabs: sampleTabs,
    defaultSelectedId: "tab1",
    orientation: "horizontal",
    activation: "manual"
  }
}`,...(D=(O=w.parameters)==null?void 0:O.docs)==null?void 0:D.source}}};const Q=["Default","Vertical","ManualActivation"];export{x as Default,w as ManualActivation,T as Vertical,Q as __namedExportsOrder,J as default};
